(function(t){function e(e){for(var s,r,o=e[0],l=e[1],c=e[2],m=0,u=[];m<o.length;m++)r=o[m],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&u.push(n[r][0]),n[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(u.length)u.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,o=1;o<a.length;o++){var l=a[o];0!==n[l]&&(s=!1)}s&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},n={app:0},i=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},1991:function(t,e,a){},"3e9c":function(t,e,a){},4690:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light",attrs:{id:"mainNav"}},[t._m(0),t._m(1),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNav"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item active"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/",href:"#"}},[t._v("Home "),a("span",{staticClass:"sr-only"},[t._v("(current)")])])],1),a("li",{staticClass:"nav-item"},["HOST"!==t.loggedUserRole?a("router-link",{staticClass:"nav-link",attrs:{to:"/apartments",href:"#"}},[t._v("Apartments")]):t._e()],1)]),a("ul",{staticClass:"navbar-nav"},[""===t.loggedUserRole?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/login"}},[t._v("Login")])],1):t._e(),""===t.loggedUserRole?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/register"}},[t._v("Register")])],1):t._e(),"GUEST"===t.loggedUserRole?a("li",[a("div",{staticClass:"dropdown",staticStyle:{"margin-right":"50px"}},[a("button",{staticClass:"btn btn-info dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton1","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v(" Profile ")]),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton1"}},[a("router-link",{staticClass:"dropdown-item",attrs:{to:"/Profile",tag:"a",href:"#"}},[t._v("My account")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/myReservations",href:"#"}},[t._v("My reservations")]),a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:t.logout}},[t._v("Logout")])],1)])]):t._e(),"HOST"===t.loggedUserRole?a("li",[a("div",{staticClass:"dropdown",staticStyle:{"margin-right":"50px"}},[a("button",{staticClass:"btn btn-info dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton2","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v(" Profile ")]),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton2"}},[a("router-link",{staticClass:"dropdown-item",attrs:{to:"/Profile",tag:"a",href:"#"}},[t._v("My account")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/apartments",href:"#"}},[t._v("My apartments")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/commentList",href:"#"}},[t._v("My comments")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/reservationsFromGuests",href:"#"}},[t._v(" Reservations")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/apartmentRegistration",href:"#"}},[t._v("Register"),a("br"),t._v(" apartment")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/guests",href:"#"}},[t._v("My guests")]),a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:t.logout}},[t._v("Logout")])],1)])]):t._e(),"ADMINISTRATOR"===t.loggedUserRole?a("li",[a("div",{staticClass:"dropdown",staticStyle:{"margin-right":"50px"}},[a("button",{staticClass:"btn btn-info dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton3","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v(" Profile ")]),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton2"}},[a("router-link",{staticClass:"dropdown-item",attrs:{to:"/Profile",tag:"a",href:"#"}},[t._v("My account")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/Users",href:"#"}},[t._v("Users")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/registerHost",href:"#"}},[t._v("Register host")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/apartments",href:"#"}},[t._v("Apartments")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/AllReservations",href:"#"}},[t._v("Reservations")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/AllAmenities",href:"#"}},[t._v("Amenities")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/commentList",href:"#"}},[t._v("Comments")]),a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:t.logout}},[t._v("Logout")])],1)])]):t._e()])])]),a("header",{staticClass:"masthead",staticStyle:{"overflow-y":"scroll !important"}},[a("div",{staticClass:"container h-100"},[a("router-view")],1)])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"navbar-brand js-scroll-trigger",attrs:{href:""}},[a("img",{staticStyle:{width:"200px",height:"50px"},attrs:{src:"logo.png",alt:""}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],r=(a("1157"),a("0deb"),a("f9e3"),a("8c4f")),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{staticClass:"form-style-9",on:{submit:function(e){return e.preventDefault(),t.showData(e)}}},[a("ul",[a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"field-style field-full align-none",attrs:{name:"username",placeholder:"Username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"field-style field-full align-none",attrs:{type:"password",name:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._m(0)])]),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.showSnackbar1,"md-persistent":""},on:{"update:mdActive":function(e){t.showSnackbar1=e},"update:md-active":function(e){t.showSnackbar1=e}}},[a("span",[t._v("Username or password can't be empty.")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.showSnackbar1=!1}}},[t._v("Retry")])],1),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.showSnackbar2,"md-persistent":""},on:{"update:mdActive":function(e){t.showSnackbar2=e},"update:md-active":function(e){t.showSnackbar2=e}}},[a("span",[t._v("There is no user with that username and password or user is blocked.")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.showSnackbar2=!1}}},[t._v("Retry")])],1),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.showSnackbar3,"md-persistent":""},on:{"update:mdActive":function(e){t.showSnackbar3=e},"update:md-active":function(e){t.showSnackbar3=e}}},[a("span",[t._v("Server error.")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.showSnackbar3=!1}}},[t._v("Retry")])],1)],1)},l=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("input",{attrs:{type:"submit",value:"Login"}})])}],c=a("9c30"),d=(a("51de"),a("e094"),a("bc3a")),m=a.n(d),u=m.a.create({baseURL:"/PocetniREST/rest",headers:{"Content-type":"application/json"}});s["default"].use(c["MdSnackbar"]),s["default"].use(c["MdButton"]);var p={name:"Login.vue",data:function(){return{username:"",password:"",showSnackbar1:!1,showSnackbar2:!1,showSnackbar3:!1,position:"center",duration:3e3,loggedUser:"",loggedUserRole:""}},mounted:function(){var t="",e="";null===localStorage.getItem("loggedUser")?localStorage.setItem("loggedUser",JSON.stringify(t)):this.loggedUser=JSON.parse(localStorage.getItem("loggedUser")),null===localStorage.getItem("loggedUserRole")?localStorage.setItem("loggedUserRole",JSON.stringify(e)):this.loggedUserRole=JSON.parse(localStorage.getItem(e))},methods:{showData:function(){var t=this;""!==this.username&&""!==this.password?u.post("login",JSON.stringify({userName:this.username,password:this.password})).then((function(e){e.data?(t.loggedUser=e.data,t.loggedUserRole=t.loggedUser.userRole,t.sendToParrent(),t.sendUserToParrent(),t.$router.push("/")):t.showSnackbar2=!0})).catch((function(e){t.showSnackbar3=!0,console.log(e)})):this.showSnackbar1=!0},sendToParrent:function(){this.$root.$emit("messageToParent",this.loggedUserRole)},sendUserToParrent:function(){this.$root.$emit("loggedUser",this.loggedUser)}}},v=p,h=(a("fc0f"),a("2877")),f=Object(h["a"])(v,o,l,!1,null,"6fad86d6",null),b=f.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{staticClass:"form-style-9",on:{submit:function(e){return e.preventDefault(),t.showData(e)}}},[a("ul",[a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"field-style field-full align-none",attrs:{name:"name",placeholder:"Name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.surname,expression:"surname"}],staticClass:"field-style field-full align-none",attrs:{name:"surname",placeholder:"Surname"},domProps:{value:t.surname},on:{input:function(e){e.target.composing||(t.surname=e.target.value)}}})]),a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"field-style field-full align-none",attrs:{name:"username",placeholder:"Username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"field-style field-full align-none",attrs:{type:"password",name:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.controlpw,expression:"controlpw"}],staticClass:"field-style field-full align-none",attrs:{type:"password",name:"password",placeholder:"Re-type password"},domProps:{value:t.controlpw},on:{input:function(e){e.target.composing||(t.controlpw=e.target.value)}}})]),a("li",[a("div",{staticClass:"rb-group"},[a("label",[t._v("Gender:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.gender,expression:"gender"}],staticClass:"rb-male",staticStyle:{alignment:"left"},attrs:{type:"radio",id:"one",value:"MALE"},domProps:{checked:t._q(t.gender,"MALE")},on:{change:function(e){t.gender="MALE"}}}),a("label",{staticClass:"rb-label",attrs:{for:"one"}},[t._v("Male")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.gender,expression:"gender"}],attrs:{type:"radio",id:"two",value:"FEMALE"},domProps:{checked:t._q(t.gender,"FEMALE")},on:{change:function(e){t.gender="FEMALE"}}}),a("label",{staticClass:"rb-label",attrs:{for:"two"}},[t._v("Female")])])]),t.showValidation1?a("li",[a("span",{staticStyle:{color:"red"}},[t._v("None of the fields can remain empty.")])]):t._e(),t.showValidation2?a("li",[a("span",{staticStyle:{color:"red"}},[t._v("Passwords needs to be at least 6 characters long.")])]):t._e(),t._m(0)])]),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.showSnackbar1,"md-persistent":""},on:{"update:mdActive":function(e){t.showSnackbar1=e},"update:md-active":function(e){t.showSnackbar1=e}}},[a("span",[t._v("You registered successfully!")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.showSnackbar1=!1}}},[t._v("Ok")])],1),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.showSnackbar2,"md-persistent":""},on:{"update:mdActive":function(e){t.showSnackbar2=e},"update:md-active":function(e){t.showSnackbar2=e}}},[a("span",[t._v("Username: "+t._s(this.username)+" is already taken!")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.showSnackbar2=!1}}},[t._v("Ok")])],1),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.invalidFieldsSnackbar,"md-persistent":""},on:{"update:mdActive":function(e){t.invalidFieldsSnackbar=e},"update:md-active":function(e){t.invalidFieldsSnackbar=e}}},[a("span",[t._v("None of the fields can remain empty")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.invalidFieldsSnackbar=!1}}},[t._v("Close")])],1),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.passwordsNotMatchingSnackbar,"md-persistent":""},on:{"update:mdActive":function(e){t.passwordsNotMatchingSnackbar=e},"update:md-active":function(e){t.passwordsNotMatchingSnackbar=e}}},[a("span",[t._v("Passwords aren't matching")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.passwordsNotMatchingSnackbar=!1}}},[t._v("Close")])],1),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.genderNotSelectedSnackbar,"md-persistent":""},on:{"update:mdActive":function(e){t.genderNotSelectedSnackbar=e},"update:md-active":function(e){t.genderNotSelectedSnackbar=e}}},[a("span",[t._v("Gender must be specified")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.genderNotSelectedSnackbar=!1}}},[t._v("Close")])],1)],1)},w=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("input",{attrs:{type:"submit",value:"Register as guest"}})])}];a("b0c0");s["default"].use(c["MdSnackbar"]),s["default"].use(c["MdButton"]);var _={name:"Register.vue",data:function(){return{showValidation1:"",showValidation2:"",username:"",password:"",controlpw:"",name:"",surname:"",gender:"",showSnackbar1:!1,showSnackbar2:!1,position:"center",duration:3e3,invalidFieldsSnackbar:!1,passwordsNotMatchingSnackbar:!1,genderNotSelectedSnackbar:!1}},methods:{showData:function(){var t=this;""===this.username||""===this.password||""===this.name||""===this.surname||""===this.gender?(this.showValidation1=!0,this.invalidFieldsSnackbar=!0):this.showValidation1=!1,this.password.length<=5?this.showValidation2=!0:(this.showValidation2=!1,this.password===this.controlpw?(this.showValidation1=!1,this.showValidation2=!1,u.post("/Register",JSON.stringify({userName:this.username,name:this.name,surname:this.surname,password:this.password,userGender:this.gender,userRole:"GUEST"})).then((function(e){e.data?t.showSnackbar1=!0:t.showSnackbar2=!0}))):this.passwordsNotMatchingSnackbar=!0)}}},y=_,C=(a("8327"),Object(h["a"])(y,g,w,!1,null,"0cd1019d",null)),S=C.exports,k=(a("619b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"background-color":"white !important",width:"90%","margin-top":"5%","margin-left":"5%"}},[a("div",{staticClass:"row",staticStyle:{padding:"20px"}},[a("div",{staticClass:"form-group col-sm-4"},[a("label",{attrs:{for:"exampleFormControlSelect1"}},[t._v("User role")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedUserRole,expression:"selectedUserRole"}],staticClass:"form-control",attrs:{id:"exampleFormControlSelect1"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedUserRole=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"all"}},[t._v("All")]),a("option",{attrs:{value:"administrator"}},[t._v("Administrator")]),a("option",{attrs:{value:"host"}},[t._v("Host")]),a("option",{attrs:{value:"guest"}},[t._v("Guest")])])]),a("div",{staticClass:"form-group col-sm-4"},[a("label",{attrs:{for:"exampleFormControlSelect2"}},[t._v("User gender")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedGender,expression:"selectedGender"}],staticClass:"form-control",attrs:{id:"exampleFormControlSelect2"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedGender=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"all"}},[t._v("All")]),a("option",{attrs:{value:"male"}},[t._v("Male")]),a("option",{attrs:{value:"female"}},[t._v("Female")])])]),a("div",{staticClass:"form-group col-sm-4"},[a("button",{staticClass:"btn btn-info",staticStyle:{"margin-top":"30px"},on:{click:function(e){return t.filterUsers()}}},[t._v("Filter")])])]),a("md-table",{staticClass:"md-card md-fixed-header",staticStyle:{padding:"20px"},attrs:{"md-sort":"name","md-sort-order":"asc"},scopedSlots:t._u([{key:"md-table-row",fn:function(e){var s=e.item;return a("md-table-row",{},[a("md-table-cell",{attrs:{"md-label":"Username","md-sort-by":"userName"}},[t._v(t._s(s.userName))]),a("md-table-cell",{attrs:{"md-label":"Name","md-sort-by":"name"}},[t._v(t._s(s.name)+" "+t._s(s.surname))]),a("md-table-cell",{attrs:{"md-label":"User role","md-sort-by":"userRole"}},[t._v(t._s(s.userRole))]),a("md-table-cell",{attrs:{"md-label":"Gender","md-sort-by":"userGender"}},[t._v(t._s(s.userGender))]),a("md-table-cell",["ADMINISTRATOR"==s.userRole||s.blocked?t._e():a("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.blockUser(s,s.id)}}},[t._v("Block")])]),a("md-table-cell",[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.showDetails(s.userName,s.userRole)}}},[t._v("Account details")])])],1)}}]),model:{value:t.searched,callback:function(e){t.searched=e},expression:"searched"}},[a("md-table-toolbar",[a("div",{staticClass:"md-toolbar-section-start"},[a("h2",{staticClass:"md-title"},[t._v("Users")])]),a("md-field",{staticClass:"md-toolbar-section-end",attrs:{"md-clearable":""}},[a("md-input",{attrs:{placeholder:"Search by name..."},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),a("md-table-empty-state",{attrs:{"md-label":"No users found","md-description":"No user found for this '"+t.search+"' query. Try a different search term."}})],1)],1)}),A=[],x=(a("4de4"),a("caad"),a("d3b7"),a("ac1f"),a("25f0"),a("2532"),a("841c"),function(t){return t.toString().toLowerCase()}),N=function(t,e){return e?t.filter((function(t){return x(t.name).includes(x(e))})):t};s["default"].use(c["MdTable"]),s["default"].use(c["MdCard"]),s["default"].use(c["MdField"]),s["default"].use(c["MdContent"]),s["default"].use(c["MdEmptyState"]),s["default"].use(c["MdRipple"]);var D={name:"UsersTable",data:function(){return{search:null,searched:[],users:[],selectedUserRole:"all",selectedGender:"all"}},methods:{showDetails:function(t){this.$router.push("/userProfile/"+t)},blockUser:function(t,e){u.put("User/blockUser/"+e).then((function(e){e.data&&(t.blocked=!0)}))},searchOnTable:function(){this.searched=N(this.users,this.search)},filterUsers:function(){var t=this;"all"===this.selectedUserRole&&"all"===this.selectedGender?u.get("User/getUsers").then((function(e){t.users=e.data,t.searched=t.users})):u.post("User/FilterUsers",JSON.stringify({userRole:this.selectedUserRole,userGender:this.selectedGender})).then((function(e){t.users=e.data,t.searched=t.users}))}},created:function(){this.searched=this.users},mounted:function(){var t=this,e=JSON.parse(localStorage.getItem("loggedUserRole"));"ADMINISTRATOR"!==e&&this.$router.push("/forbidden"),u.get("User/getUsers").then((function(e){t.users=e.data,t.searched=t.users}))}},R=D,O=(a("c414"),Object(h["a"])(R,k,A,!1,null,"6f214d27",null)),U=O.exports,T=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},P=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row h-100 align-items-center justify-content-center text-center"},[a("div",{staticClass:"col-lg-10 align-self-end"},[a("h1",{staticClass:"text-uppercase text-white font-weight-bold"},[t._v("At Last, This Is What You’ve Been Searching For")]),a("hr",{staticClass:"divider my-4"})]),a("div",{staticClass:"col-lg-8 align-self-baseline"},[a("p",{staticClass:"text-white-75 font-weight-light mb-5"},[t._v("Unparalleled Views. Exceptional Style. Nonstop Luxury. Great Experiences Are Just Around The Corner. Check out what we offer!")])])])}],E={name:"Home.vue"},I=E,M=Object(h["a"])(I,T,P,!1,null,"e3f50366",null),F=M.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"90%","margin-top":"5%","margin-left":"5%"}},[a("div",{staticStyle:{"background-color":"white !important",padding:"10px"}},[a("div",{staticClass:"row",staticStyle:{padding:"20px"}},[a("div",{staticClass:"form-group col-sm-3"},[a("label",{attrs:{for:"exampleFormControlSelect1"}},[t._v("Number of rooms")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedNumberOfRooms,expression:"selectedNumberOfRooms"}],staticClass:"form-control",attrs:{id:"exampleFormControlSelect1"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedNumberOfRooms=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"all"}},[t._v("All")]),a("option",{attrs:{value:"1"}},[t._v("1")]),a("option",{attrs:{value:"2"}},[t._v("2")]),a("option",{attrs:{value:"3"}},[t._v("3")]),a("option",{attrs:{value:"4"}},[t._v("4")]),a("option",{attrs:{value:"5"}},[t._v("5 and more")])])]),a("div",{staticClass:"form-group col-sm-3"},[a("label",{attrs:{for:"exampleFormControlSelect2"}},[t._v("Apartment type")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedApartmentType,expression:"selectedApartmentType"}],staticClass:"form-control",attrs:{id:"exampleFormControlSelect2"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedApartmentType=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"all"}},[t._v("All")]),a("option",{attrs:{value:"apartment"}},[t._v("Apartment")]),a("option",{attrs:{value:"room"}},[t._v("Room")])])]),a("div",{staticClass:"form-group col-sm-3"},[a("label",{attrs:{for:"exampleFormControlSelect3"}},[t._v("Number of guests")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedNumberOfGuests,expression:"selectedNumberOfGuests"}],staticClass:"form-control",attrs:{id:"exampleFormControlSelect3"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedNumberOfGuests=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"all"}},[t._v("All")]),a("option",{attrs:{value:"1"}},[t._v("1")]),a("option",{attrs:{value:"2"}},[t._v("2")]),a("option",{attrs:{value:"3"}},[t._v("3")]),a("option",{attrs:{value:"4"}},[t._v("4")]),a("option",{attrs:{value:"5"}},[t._v("5 and more")])])]),a("div",{staticClass:"form-group col-sm-3"},[a("button",{staticClass:"btn btn-info",staticStyle:{"margin-top":"30px"},on:{click:function(e){return t.filterApartments()}}},[t._v("Filter")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-3"},[a("label",[t._v("Price from: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.priceFrom,expression:"priceFrom"}],attrs:{type:"number"},domProps:{value:t.priceFrom},on:{input:function(e){e.target.composing||(t.priceFrom=e.target.value)}}})]),a("div",{staticClass:"form-group col-sm-3"},[a("label",[t._v("Price to: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.priceTo,expression:"priceTo"}],attrs:{type:"number"},domProps:{value:t.priceTo},on:{input:function(e){e.target.composing||(t.priceTo=e.target.value)}}})])])]),a("md-table",{staticClass:"md-card md-fixed-header",staticStyle:{padding:"20px"},attrs:{"md-sort":"name","md-sort-order":"asc"},scopedSlots:t._u([{key:"md-table-row",fn:function(e){var s=e.item;return a("md-table-row",{},[a("md-table-cell",{attrs:{"md-label":"Host username","md-sort-by":"hostUserName"}},[t._v(t._s(s.hostUserName))]),a("md-table-cell",{attrs:{"md-label":"Price per night","md-sort-by":"pricePerNight"}},[t._v(t._s(s.pricePerNight))]),a("md-table-cell",{attrs:{"md-label":"Apartment type","md-sort-by":"apartmentType"}},[t._v(t._s(s.apartmentType))]),t.isAdmin||t.isHost?a("md-table-cell",{attrs:{"md-label":"Activity status","md-sort-by":"activityStatus"}},[t._v(t._s(s.activityStatus))]):t._e(),a("md-table-cell",[a("router-link",{staticClass:"btn btn-info",attrs:{to:"/apartmentDetails/"+s.id,tag:"button"}},[t._v("Details")])],1),t.isAdmin||t.isHost?a("md-table-cell",[a("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.deleteApartment(s.id,s)}}},[t._v("Delete")])]):t._e(),t.isGuest?a("md-table-cell",[a("button",{staticClass:"btn btn-success",on:{click:function(e){return t.showDialog(s,s.startDates,s.endDates)}}},[t._v("Reserve")])]):t._e(),t.isHost&&"Active"===s.activityStatus?a("md-table-cell",[a("button",{staticClass:"btn btn-warning",on:{click:function(e){return t.deactivateApartment(s)}}},[t._v("Deactivate")])]):t._e(),t.isHost&&"Active"!==s.activityStatus?a("md-table-cell",[a("button",{staticClass:"btn btn-warning",on:{click:function(e){return t.activateApartment(s)}}},[t._v("Activate")])]):t._e()],1)}}]),model:{value:t.searched,callback:function(e){t.searched=e},expression:"searched"}},[a("md-table-toolbar",[t.isHost?t._e():a("div",{staticClass:"md-toolbar-section-start"},[a("h2",{staticClass:"md-title"},[t._v("Apartments")])]),t.isHost&&t.showInactiveBool?a("div",{staticClass:"md-toolbar-section-start"},[a("h2",{staticClass:"md-title"},[t._v("Active apartments")])]):t._e(),t.isHost&&t.showActiveBool?a("div",{staticClass:"md-toolbar-section-start"},[a("h2",{staticClass:"md-title"},[t._v("Deactivated apartments")])]):t._e(),t.showInactiveBool&&t.isHost?a("md-button",{on:{click:t.showInactive}},[t._v(" Show inactive ")]):t._e(),t.showActiveBool&&t.isHost?a("md-button",{on:{click:t.showActive}},[t._v(" Show active ")]):t._e(),t.isHost?t._e():a("md-field",{staticClass:"md-toolbar-section-end",attrs:{"md-clearable":""}},[a("md-input",{attrs:{placeholder:"Search by host username"},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),a("md-table-empty-state",{attrs:{"md-label":"No apartments found","md-description":"No apartments found for this '"+t.search+"' query. Try a different search term."}})],1),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.failedDelete,"md-persistent":""},on:{"update:mdActive":function(e){t.failedDelete=e},"update:md-active":function(e){t.failedDelete=e}}},[a("span",[t._v("Problem while deleting apartment, try reloading the page")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.failedDelete=!1}}},[t._v("Close")])],1),a("modal",{attrs:{height:550,width:400,name:"reservationDialog"}},[a("h2",{staticStyle:{margin:"30px"}},[t._v("Fill in the information")]),a("div",{staticStyle:{margin:"30px"}},[a("div",[a("label",[t._v("Select starting date")]),a("date-picker",{attrs:{color:"blue",attributes:t.attributes,"available-dates":t.availableDates},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),a("div",{staticStyle:{"margin-top":"20px"}},[a("label",[t._v("How many days will you stay?")]),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.numberOfDays,expression:"numberOfDays"}],staticStyle:{width:"340px"},attrs:{type:"number",min:"0"},domProps:{value:t.numberOfDays},on:{change:t.calculateBill,input:function(e){e.target.composing||(t.numberOfDays=e.target.value)}}})]),a("div",[a("label",[t._v("Additional comments:")]),a("br"),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.additionalComment,expression:"additionalComment"}],attrs:{rows:"5",cols:"44"},domProps:{value:t.additionalComment},on:{input:function(e){e.target.composing||(t.additionalComment=e.target.value)}}})]),a("hr"),a("div",{staticStyle:{"margin-top":"20px"}},[a("label",{staticStyle:{"font-size":"20px"}},[t._v("Your total is: "),a("b",[t._v(t._s(t.bill))])])]),a("div",{staticStyle:{"margin-top":"30px","text-align":"right"}},[a("button",{staticClass:"btn btn-dark",staticStyle:{"margin-right":"10px"},on:{click:t.cancelReservationCreation}},[t._v("Cancel")]),a("button",{staticClass:"btn btn-success",on:{click:t.registerReservation}},[t._v("Reserve")])])])])],1)},G=[],J=(a("4160"),a("fb6a"),a("a434"),a("5319"),a("159b"),a("bf19"),a("43f9")),H=a.n(J),L=a("1881"),j=a.n(L),B=a("404b"),q=a.n(B),V=a("5887"),z=a.n(V),Y=(a("43f4"),function(t){return t.toString().toLowerCase()}),Z=function(t,e){return e?t.filter((function(t){return Y(t.hostUserName).includes(Y(e))})):t};s["default"].use(c["MdTable"]),s["default"].use(c["MdCard"]),s["default"].use(c["MdField"]),s["default"].use(c["MdContent"]),s["default"].use(c["MdEmptyState"]),s["default"].use(c["MdRipple"]),s["default"].use(j.a),s["default"].use(H.a),s["default"].use(z.a,{componentPrefix:"vc"}),s["default"].component("date-picker",q.a);var K={name:"ApartmentList",data:function(){return{search:null,searched:[],apartments:[],isAdmin:!1,isHost:!1,isGuest:!1,failedDelete:!1,duration:3e3,position:"center",showReservationDialog:!1,selectedApartment:"",date:new Date,numberOfDays:0,bill:0,additionalComment:"",apartmentReservations:[],occupiedDates:[],attributes:[],fallbackApartments:[],availableDates:[],showActiveBool:!1,showInactiveBool:!0,selectedNumberOfRooms:"all",selectedApartmentType:"all",selectedNumberOfGuests:"all",priceFrom:0,priceTo:200}},components:{},methods:{filterApartments:function(){var t=this;this.priceFrom<0||this.priceTo<=0||this.priceFrom>this.priceTo?alert("Invalid filter arguments, check price filter"):u.post("apartments/filterApartments",JSON.stringify({rooms:this.selectedNumberOfRooms,guests:this.selectedNumberOfGuests,type:this.selectedApartmentType,priceFrom:this.priceFrom,priceTo:this.priceTo})).then((function(e){e.data&&(t.apartments=e.data,t.searched=t.apartments)}))},cancelReservationCreation:function(){this.$modal.hide("reservationDialog"),this.clearLists()},clearLists:function(){this.attributes=[],this.occupiedDates=[],this.availableDates=[]},searchOnTable:function(){this.searched=Z(this.apartments,this.search)},deleteApartment:function(t,e){var a=this;u.get("apartments/deleteApartment/".concat(t)).then((function(s){!0===s.data?(a.apartments.splice(e,1),a.searched.forEach((function(e){e.id===t&&a.searched.splice(e,1)})),a.fallbackApartments.forEach((function(e){e.id===t&&a.fallbackApartments.splice(e,1)}))):a.failedDelete=!0}))},showDialog:function(t,e,a){var s=this;console.log(t.id),u.get("Reservation/getActiveReservationsByApartment/".concat(t.id)).then((function(n){s.selectedApartment=t,s.apartmentReservations=n.data,console.log(s.attributes),s.apartmentReservations.forEach((function(t){console.log(t.startingDate),s.occupiedDates.push({start:t.startingDate,span:t.rentalDuration})})),s.attributes.push({highlight:!0,dates:s.occupiedDates});for(var i=0;i<e.length;i++)s.availableDates.push({start:e[i],end:a[i]});console.log(s.attributes),s.$modal.show("reservationDialog")}))},hideDialog:function(){this.date="",this.bill=0,this.additionalComment="",this.numberOfDays=0,this.occupiedDates=[],this.attributes=[],this.$modal.hide("reservationDialog")},showActive:function(){var t=this;console.log("showing active"),this.showActiveBool=!1,this.showInactiveBool=!0,this.searched=[],this.fallbackApartments.forEach((function(e){"Active"===e.activityStatus&&t.searched.push(e)}))},showInactive:function(){var t=this;console.log("showing inactive"),this.showActiveBool=!0,this.showInactiveBool=!1,this.searched=[],this.fallbackApartments.forEach((function(e){"Active"!==e.activityStatus&&t.searched.push(e)}))},date_function:function(){var t=new Date;console.log(t);var e=(new Date).toJSON().slice(0,10).replace(/-/g,"/");console.log(e)},calculateBill:function(){for(var t=this.date,e=0;e<this.numberOfDays;e++)0!==t.getDay()&&5!==t.getDay()&&6!==t.getDay()||(this.bill=this.bill+this.selectedApartment.pricePerNight-this.selectedApartment.pricePerNight/10),console.log(t),t.setDate(t.getDate()+1),console.log(t);console.log("This is the bill:"+this.bill)},registerReservation:function(){var t=this,e=JSON.parse(localStorage.getItem("loggedUser"));console.log("Selected date: "+this.date),u.post("Reservation/registerReservation",JSON.stringify({id:"",apartmentId:this.selectedApartment.id,startingDate:this.date,rentalDuration:this.numberOfDays,fullPrice:this.bill,optionalMessage:this.additionalComment,guestId:e.id,deleted:!1})).then((function(e){console.log(e.data),t.datesForRent=[],t.attributes=[],t.clearLists(),t.hideDialog()}))},activateApartment:function(t){var e=this;u.get("apartments/activateApartment/".concat(t.id)).then((function(a){a.data&&(e.searched.splice(t,1),e.apartments.forEach((function(e){t.id===e.id&&(e.activityStatus="Active")})),e.fallbackApartments.forEach((function(e){t.id===e.id&&(e.activityStatus="Active")})),t.activityStatus="Active")}))},deactivateApartment:function(t){var e=this;u.get("apartments/deactivateApartment/".concat(t.id)).then((function(a){a.data&&(e.searched.splice(t,1),e.apartments.forEach((function(e){t.id===e.id&&(e.activityStatus="Not active")})),e.fallbackApartments.forEach((function(e){t.id===e.id&&(e.activityStatus="Not active")})),t.activityStatus="Not active")}))}},created:function(){this.searched=this.apartments,this.isAdmin="ADMINISTRATOR"===JSON.parse(localStorage.getItem("loggedUserRole")),this.isHost="HOST"===JSON.parse(localStorage.getItem("loggedUserRole")),this.isGuest="GUEST"===JSON.parse(localStorage.getItem("loggedUserRole"))},mounted:function(){var t=this;if(this.date_function(),null===localStorage.getItem("loggedUserRole")||"GUEST"===JSON.parse(localStorage.getItem("loggedUserRole")))u.get("apartments/ActiveApartments").then((function(e){t.apartments=e.data,t.searched=t.apartments,console.log(e.data)}));else{console.log(localStorage.getItem("loggedUserRole"));var e=JSON.parse(localStorage.getItem("loggedUserRole"));if("HOST"===e){var a=JSON.parse(localStorage.getItem("loggedUser"));u.get("apartments/HostApartments/".concat(a.id)).then((function(e){t.apartments=e.data,t.searched=t.apartments,t.fallbackApartments=t.apartments,t.showActive()}))}else"ADMINISTRATOR"===e&&u.get("apartments/Apartments").then((function(e){t.apartments=e.data,t.searched=t.apartments,console.log(e.data)}))}}},Q=K,W=Object(h["a"])(Q,$,G,!1,null,"d927c100",null),X=W.exports,tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"90%","margin-top":"5%","margin-left":"5%"}},[a("div",{staticStyle:{background:"white"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchUsername,expression:"searchUsername"}],staticStyle:{margin:"10px"},attrs:{type:"text",placeholder:"Enter username"},domProps:{value:t.searchUsername},on:{input:function(e){e.target.composing||(t.searchUsername=e.target.value)}}}),a("button",{on:{click:t.searchReservationsByUsername}},[t._v("Search")])]),a("div",{staticStyle:{background:"white"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.statusFilter,expression:"statusFilter"}],staticStyle:{margin:"10px"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.statusFilter=e.target.multiple?a:a[0]}}},[a("option",{attrs:{selected:"",value:"all"}},[t._v("All")]),a("option",{attrs:{value:"0"}},[t._v("Created")]),a("option",{attrs:{value:"1"}},[t._v("Declined")]),a("option",{attrs:{value:"2"}},[t._v("Accepted")]),a("option",{attrs:{value:"3"}},[t._v("Finished")]),a("option",{attrs:{value:"4"}},[t._v("Canceled")])]),a("button",{on:{click:t.filterReservations}},[t._v("Filter")])]),a("md-table",{staticClass:"md-card md-fixed-header",staticStyle:{padding:"20px"},attrs:{"md-sort":"name","md-sort-order":"asc"},scopedSlots:t._u([{key:"md-table-row",fn:function(e){var s=e.item;return a("md-table-row",{},[a("md-table-cell",{attrs:{"md-label":"Apartment type","md-sort-by":"userName"}},[t._v(t._s(s.apartmentType))]),a("md-table-cell",{attrs:{"md-label":"Location","md-sort-by":"name"}},[t._v(t._s(s.location.address.country)+", "+t._s(s.location.address.city))]),a("md-table-cell",{attrs:{"md-label":"Host username","md-sort-by":"userRole"}},[t._v(t._s(s.hostUserName))]),a("md-table-cell",{attrs:{"md-label":"Guest username","md-sort-by":"userGender"}},[t._v(t._s(s.guestUserName))]),a("md-table-cell",{attrs:{"md-label":"Starting date","md-sort-by":"userGender"}},[t._v(t._s(s.date))]),a("md-table-cell",{attrs:{"md-label":"Rental duration","md-sort-by":"userGender"}},[t._v(t._s(s.rentalDuration))]),a("md-table-cell",{attrs:{"md-label":"Status","md-sort-by":"userGender"}},[t._v(t._s(s.reservationStatus))])],1)}}]),model:{value:t.searched,callback:function(e){t.searched=e},expression:"searched"}},[a("md-table-toolbar",[a("div",{staticClass:"md-toolbar-section-start"},[a("h2",{staticClass:"md-title"},[t._v("Reservations")])]),a("md-field",{staticClass:"md-toolbar-section-end",staticStyle:{"margin-right":"15px"},attrs:{"md-clearable":""}},[a("md-input",{attrs:{placeholder:"Search by host username..."},on:{input:t.searchOnTable1},model:{value:t.search1,callback:function(e){t.search1=e},expression:"search1"}})],1),a("md-field",{staticClass:"md-toolbar-section-end",attrs:{"md-clearable":""}},[a("md-input",{attrs:{placeholder:"Search by guest username..."},on:{input:t.searchOnTable2},model:{value:t.search2,callback:function(e){t.search2=e},expression:"search2"}})],1)],1),a("md-table-empty-state",{attrs:{"md-label":"No reservations found","md-description":"No reservations found for this query. Try a different search term."}})],1)],1)},et=[];s["default"].use(c["MdTable"]),s["default"].use(c["MdCard"]),s["default"].use(c["MdField"]),s["default"].use(c["MdContent"]),s["default"].use(c["MdEmptyState"]),s["default"].use(c["MdRipple"]);var at=function(t){return t.toString().toLowerCase()},st=function(t,e){return e?t.filter((function(t){return at(t.hostUserName).includes(at(e))})):t},nt=function(t,e){return e?t.filter((function(t){return at(t.guestUserName).includes(at(e))})):t},it={name:"ReservationsForAdmin",data:function(){return{search1:null,search2:null,searched:[],reservations:[],statusFilter:"",searchUsername:""}},methods:{searchOnTable1:function(){this.searched=st(this.reservations,this.search1)},searchOnTable2:function(){this.searched=nt(this.reservations,this.search2)},filterReservations:function(){var t=this;u.get("Reservation/filterReservationsByStatus/".concat(this.statusFilter)).then((function(e){t.searched=e.data}))},searchReservationsByUsername:function(){var t=this;""===this.searchUsername&&(this.searchUsername="-1"),u.get("Reservation/searchReservations/".concat(this.searchUsername)).then((function(e){t.searched=e.data}))}},created:function(){this.searched=this.reservations},mounted:function(){var t=this,e=JSON.parse(localStorage.getItem("loggedUserRole"));"ADMINISTRATOR"!==e&&this.$router.push("/forbidden"),u.get("Reservation/").then((function(e){t.reservations=e.data,t.searched=t.reservations}))}},rt=it,ot=(a("6c72"),Object(h["a"])(rt,tt,et,!1,null,"0dbd115a",null)),lt=ot.exports,ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"90%","margin-top":"5%","margin-left":"5%"}},[a("md-table",{staticClass:"md-card md-fixed-header",staticStyle:{padding:"20px"},attrs:{"md-sort":"name","md-sort-order":"asc"},scopedSlots:t._u([{key:"md-table-row",fn:function(e){var s=e.item;return a("md-table-row",{},[a("md-table-cell",{attrs:{"md-label":"ID","md-sort-by":"id"}},[t._v(t._s(s.id))]),a("md-table-cell",{attrs:{"md-label":"Caption","md-sort-by":"caption"}},[t._v(t._s(s.caption))]),a("md-table-cell",{attrs:{"md-label":"Description","md-sort-by":"description"}},[t._v(t._s(s.description))]),a("md-table-cell",{attrs:{"md-label":"Type","md-sort-by":"type"}},[t._v(t._s(s.type))]),a("md-table-cell",[a("button",{staticClass:"btn btn-info",on:{click:function(e){return t.getLink(s.id)}}},[t._v("Change amenity")])]),a("md-table-cell",[a("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.deleteAmenity(s,s.id)}}},[t._v("Delete")])])],1)}}]),model:{value:t.searched,callback:function(e){t.searched=e},expression:"searched"}},[a("md-table-toolbar",[a("div",{staticClass:"md-toolbar-section-start"},[a("h2",{staticClass:"md-title"},[t._v("Amenities")])]),a("router-link",{staticClass:"btn btn-info",staticStyle:{"margin-right":"50px"},attrs:{to:"/createAmenity",tag:"button"}},[t._v("Create new amenity")]),a("md-field",{staticClass:"md-toolbar-section-end",attrs:{"md-clearable":""}},[a("md-input",{attrs:{placeholder:"Search by caption..."},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),a("md-table-empty-state",{attrs:{"md-label":"No amenities found","md-description":"No amenity found for this '"+t.search+"' query. Try a different search term."}})],1),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.showSnackbar1,"md-persistent":""},on:{"update:mdActive":function(e){t.showSnackbar1=e},"update:md-active":function(e){t.showSnackbar1=e}}},[a("span",[t._v("Amenity deleted.")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.showSnackbar1=!1}}},[t._v("Retry")])],1),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.showSnackbar2,"md-persistent":""},on:{"update:mdActive":function(e){t.showSnackbar2=e},"update:md-active":function(e){t.showSnackbar2=e}}},[a("span",[t._v("There are apartments that have this amenity, it's not possible to delete it.")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.showSnackbar2=!1}}},[t._v("Retry")])],1)],1)},dt=[],mt=function(t){return t.toString().toLowerCase()},ut=function(t,e){return e?t.filter((function(t){return mt(t.caption).includes(mt(e))})):t};s["default"].use(c["MdTable"]),s["default"].use(c["MdCard"]),s["default"].use(c["MdField"]),s["default"].use(c["MdContent"]),s["default"].use(c["MdEmptyState"]),s["default"].use(c["MdRipple"]);var pt={name:"AmenitiesForAdmin",data:function(){return{search:null,searched:[],amenities:[],showSnackbar1:!1,showSnackbar2:!1,position:"center",duration:3e3}},methods:{searchOnTable:function(){this.searched=ut(this.amenities,this.search)},getLink:function(t){this.$router.push("/changeAmenityDetails/".concat(t))},deleteAmenity:function(t,e){var a=this;u.get("Amenity/delete/".concat(e)).then((function(e){e.data?(a.showSnackbar1=!0,a.amenities.splice(t,1)):a.showSnackbar2=!0}))}},created:function(){this.searched=this.amenities},mounted:function(){var t=this,e=JSON.parse(localStorage.getItem("loggedUserRole"));"ADMINISTRATOR"!==e&&this.$router.push("/forbidden"),u.get("Amenity").then((function(e){t.amenities=e.data,t.searched=t.amenities}))}},vt=pt,ht=Object(h["a"])(vt,ct,dt,!1,null,"762c050a",null),ft=ht.exports,bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",staticStyle:{"margin-top":"2%","background-color":"white !important",padding:"50px"}},[a("h2",[t._v("Change your password")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4"},[a("label",[t._v("Current Password")]),a("div",{staticClass:"form-group pass_show"},[a("span",{staticClass:"ptxt",on:{click:t.showPassword1}},[t._v(t._s(this.passwordElements[0].text))]),"checkbox"===this.passwordElements[0].type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{placeholder:"Current Password",type:"checkbox"},domProps:{checked:Array.isArray(t.password)?t._i(t.password,null)>-1:t.password},on:{change:function(e){var a=t.password,s=e.target,n=!!s.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);s.checked?r<0&&(t.password=a.concat([i])):r>-1&&(t.password=a.slice(0,r).concat(a.slice(r+1)))}else t.password=n}}}):"radio"===this.passwordElements[0].type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{placeholder:"Current Password",type:"radio"},domProps:{checked:t._q(t.password,null)},on:{change:function(e){t.password=null}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{placeholder:"Current Password",type:this.passwordElements[0].type},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("label",[t._v("New Password")]),a("div",{staticClass:"form-group pass_show"},[a("span",{staticClass:"ptxt",on:{click:t.showPassword2}},[t._v(t._s(this.passwordElements[1].text))]),"checkbox"===this.passwordElements[1].type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.newPassword,expression:"newPassword"}],staticClass:"form-control",attrs:{placeholder:"New Password",type:"checkbox"},domProps:{checked:Array.isArray(t.newPassword)?t._i(t.newPassword,null)>-1:t.newPassword},on:{change:function(e){var a=t.newPassword,s=e.target,n=!!s.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);s.checked?r<0&&(t.newPassword=a.concat([i])):r>-1&&(t.newPassword=a.slice(0,r).concat(a.slice(r+1)))}else t.newPassword=n}}}):"radio"===this.passwordElements[1].type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.newPassword,expression:"newPassword"}],staticClass:"form-control",attrs:{placeholder:"New Password",type:"radio"},domProps:{checked:t._q(t.newPassword,null)},on:{change:function(e){t.newPassword=null}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.newPassword,expression:"newPassword"}],staticClass:"form-control",attrs:{placeholder:"New Password",type:this.passwordElements[1].type},domProps:{value:t.newPassword},on:{input:function(e){e.target.composing||(t.newPassword=e.target.value)}}})]),a("label",[t._v("Confirm Password")]),a("div",{staticClass:"form-group pass_show"},[a("span",{staticClass:"ptxt",on:{click:t.showPassword3}},[t._v(t._s(this.passwordElements[2].text))]),"checkbox"===this.passwordElements[2].type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordConfirm,expression:"passwordConfirm"}],staticClass:"form-control",attrs:{placeholder:"Confirm Password",type:"checkbox"},domProps:{checked:Array.isArray(t.passwordConfirm)?t._i(t.passwordConfirm,null)>-1:t.passwordConfirm},on:{change:function(e){var a=t.passwordConfirm,s=e.target,n=!!s.checked;if(Array.isArray(a)){var i=null,r=t._i(a,i);s.checked?r<0&&(t.passwordConfirm=a.concat([i])):r>-1&&(t.passwordConfirm=a.slice(0,r).concat(a.slice(r+1)))}else t.passwordConfirm=n}}}):"radio"===this.passwordElements[2].type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordConfirm,expression:"passwordConfirm"}],staticClass:"form-control",attrs:{placeholder:"Confirm Password",type:"radio"},domProps:{checked:t._q(t.passwordConfirm,null)},on:{change:function(e){t.passwordConfirm=null}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordConfirm,expression:"passwordConfirm"}],staticClass:"form-control",attrs:{placeholder:"Confirm Password",type:this.passwordElements[2].type},domProps:{value:t.passwordConfirm},on:{input:function(e){e.target.composing||(t.passwordConfirm=e.target.value)}}})]),a("button",{staticClass:"btn btn-info",staticStyle:{float:"right"},attrs:{type:"button"},on:{click:t.checkPassword}},[t._v("Change password")])])]),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.showSnackbar1,"md-persistent":""},on:{"update:mdActive":function(e){t.showSnackbar1=e},"update:md-active":function(e){t.showSnackbar1=e}}},[a("span",[t._v("Passwords do not match!")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.showSnackbar1=!1}}},[t._v("Retry")])],1),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.showSnackbar2,"md-persistent":""},on:{"update:mdActive":function(e){t.showSnackbar2=e},"update:md-active":function(e){t.showSnackbar2=e}}},[a("span",[t._v("You successfully changed your password!")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.showSnackbar2=!1}}},[t._v("Close")])],1),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.showSnackbar3,"md-persistent":""},on:{"update:mdActive":function(e){t.showSnackbar3=e},"update:md-active":function(e){t.showSnackbar3=e}}},[a("span",[t._v("You did not enter the correct password!")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.showSnackbar3=!1}}},[t._v("Close")])],1)],1)},gt=[];s["default"].use(c["MdSnackbar"]),s["default"].use(c["MdButton"]);var wt={name:"ChangePassword",data:function(){return{userName:"",password:"",newPassword:"",passwordConfirm:"",showSnackbar1:!1,showSnackbar2:!1,showSnackbar3:!1,position:"center",duration:3e3,passwordElements:[{type:"password",text:"Show"},{type:"password",text:"Show"},{type:"password",text:"Show"}]}},methods:{checkPassword:function(){var t=this;if(this.newPassword!==this.passwordConfirm)this.showSnackbar1=!0;else{var e=JSON.parse(localStorage.getItem("loggedUser"));this.userName=e.userName,u.put("/User/changePassword",JSON.stringify({userName:this.userName,password:this.password,newPassword:this.newPassword})).then((function(e){e.data?t.showSnackbar2=!0:t.showSnackbar3=!0}))}},showPassword1:function(){"Show"===this.passwordElements[0].text?(this.passwordElements[0].type="text",this.passwordElements[0].text="Hide"):(this.passwordElements[0].type="password",this.passwordElements[0].text="Show")},showPassword2:function(){"Show"===this.passwordElements[1].text?(this.passwordElements[1].type="text",this.passwordElements[1].text="Hide"):(this.passwordElements[1].type="password",this.passwordElements[1].text="Show")},showPassword3:function(){"Show"===this.passwordElements[2].text?(this.passwordElements[2].type="text",this.passwordElements[2].text="Hide"):(this.passwordElements[2].type="password",this.passwordElements[2].text="Show")}}},_t=wt,yt=(a("928a"),Object(h["a"])(_t,bt,gt,!1,null,"2ec449de",null)),Ct=yt.exports,St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",staticStyle:{"margin-top":"2%","background-color":"white !important",padding:"50px"}},[a("h2",[t._v("Details")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[t._m(0),t._m(1),t._m(2),t._m(3),"HOST"==t.loggedUserRole?a("div",{staticClass:"row"},[a("label",[t._v("Available apartments: ")])]):t._e(),"HOST"==t.loggedUserRole?a("div",{staticClass:"row"},[a("label",[t._v("Rented apartments: ")])]):t._e(),"GUEST"==t.loggedUserRole?a("div",{staticClass:"row"},[a("label",[t._v("Number of made reservations: ")])]):t._e()]),a("div",{staticClass:"col-sm-3"},[a("div",{staticClass:"row"},[a("label",[t._v(t._s(t.userDetails.userName))])]),a("div",{staticClass:"row"},[a("label",[t._v(t._s(t.userDetails.name))])]),a("div",{staticClass:"row"},[a("label",[t._v(t._s(t.userDetails.surname))])]),a("div",{staticClass:"row"},[a("label",[t._v(t._s(t.userDetails.userGender))])]),"HOST"==t.loggedUserRole?a("div",{staticClass:"row"},[a("label",[t._v(t._s(t.userDetails.availableApartments))])]):t._e(),"HOST"==t.loggedUserRole?a("div",{staticClass:"row"},[a("label",[t._v(t._s(t.userDetails.rentedApartments))])]):t._e(),"GUEST"==t.loggedUserRole?a("div",{staticClass:"row"},[a("label",[t._v(t._s(t.userDetails.numberOfReservationsMade))])]):t._e()]),a("div",{staticClass:"col-sm-3"},[a("div",{staticClass:"row"},[a("router-link",{staticClass:"btn btn-info",attrs:{tag:"button",to:"/ChangeDetails",type:"button"}},[t._v("Change details")])],1),a("div",{staticClass:"row"},[a("router-link",{staticClass:"btn btn-info",attrs:{tag:"button",to:"/ChangePassword",type:"button"}},[t._v("Change password")])],1)])])])},kt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("label",[t._v("Username: ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("label",[t._v("Name: ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("label",[t._v("Surname: ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("label",[t._v("Gender: ")])])}],At={name:"MyProfile",mounted:function(){var t=this;if(null!==localStorage.getItem("loggedUserRole")&&(this.loggedUserRole=JSON.parse(localStorage.getItem("loggedUserRole"))),null!==localStorage.getItem("loggedUserRole")){var e=JSON.parse(localStorage.getItem("loggedUser"));this.loggedUserName=e.userName}u.get("/User/UserDetails/"+this.loggedUserName).then((function(e){e.data&&(t.userDetails=e.data)}))},data:function(){return{loggedUserRole:"",userDetails:"",loggedUserName:""}},methods:{}},xt=At,Nt=(a("9348"),Object(h["a"])(xt,St,kt,!1,null,"512147f8",null)),Dt=Nt.exports,Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",staticStyle:{"margin-top":"2%","background-color":"white !important",width:"fit-content",padding:"50px"}},[a("h2",[t._v("Change user details")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4",staticStyle:{flex:"100%","max-width":"100%"}},[a("label",[t._v("Username")]),a("div",{staticClass:"form-group pass_show"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newUserName,expression:"newUserName"}],staticClass:"form-control",attrs:{placeholder:"Username"},domProps:{value:t.newUserName},on:{input:function(e){e.target.composing||(t.newUserName=e.target.value)}}})]),a("label",[t._v("Name")]),a("div",{staticClass:"form-group pass_show"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{placeholder:"Username"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),a("label",[t._v("Surname")]),a("div",{staticClass:"form-group pass_show"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.surname,expression:"surname"}],staticClass:"form-control",attrs:{placeholder:"Username"},domProps:{value:t.surname},on:{input:function(e){e.target.composing||(t.surname=e.target.value)}}})]),a("button",{staticClass:"btn btn-info",staticStyle:{float:"left"},attrs:{type:"button"},on:{click:t.changeDetails}},[t._v("Change details")]),a("router-link",{staticClass:"btn btn-dark",staticStyle:{float:"right"},attrs:{tag:"button",to:"/Profile",type:"button"}},[t._v("Cancel")])],1)]),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.showSnackbar1,"md-persistent":""},on:{"update:mdActive":function(e){t.showSnackbar1=e},"update:md-active":function(e){t.showSnackbar1=e}}},[a("span",[t._v("All fields are required!")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.showSnackbar1=!1}}},[t._v("Retry")])],1),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.showSnackbar2,"md-persistent":""},on:{"update:mdActive":function(e){t.showSnackbar2=e},"update:md-active":function(e){t.showSnackbar2=e}}},[a("span",[t._v("There is already a user with username: "+t._s(t.newUserName)+"!")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.showSnackbar2=!1}}},[t._v("Retry")])],1),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.showSnackbar3,"md-persistent":""},on:{"update:mdActive":function(e){t.showSnackbar3=e},"update:md-active":function(e){t.showSnackbar3=e}}},[a("span",[t._v("Changes saved successfully!")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.showSnackbar3=!1}}},[t._v("Close")])],1)],1)},Ot=[];s["default"].use(c["MdSnackbar"]),s["default"].use(c["MdButton"]);var Ut={name:"ChangeUserDetails",data:function(){return{user:null,previousUserName:"",newUserName:"",name:"",surname:"",password:"",showSnackbar1:!1,showSnackbar2:!1,showSnackbar3:!1,position:"center",duration:3e3}},methods:{changeDetails:function(){var t=this;""!==this.newUserName&&""!==this.name&&""!==this.surname?u.put("/User/changeUser",JSON.stringify({previousUserName:this.previousUserName,newUserName:this.newUserName,password:this.password,name:this.name,surname:this.surname})).then((function(e){if(e.data){t.showSnackbar3=!0;var a=JSON.parse(localStorage.getItem("loggedUser"));a.userName=t.newUserName,a.name=t.name,a.surname=t.surname,localStorage.setItem("loggedUser",JSON.stringify(a))}else t.showSnackbar2=!0})):this.showSnackbar1=!0}},mounted:function(){null!==localStorage.getItem("loggedUserRole")&&(this.user=JSON.parse(localStorage.getItem("loggedUser")),this.previousUserName=this.user.userName,this.newUserName=this.user.userName,this.name=this.user.name,this.surname=this.user.surname,this.password=this.user.password)}},Tt=Ut,Pt=(a("9ea9"),Object(h["a"])(Tt,Rt,Ot,!1,null,"8a5b0602",null)),Et=Pt.exports,It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"overflow-y":"auto",background:"white",width:"80%","margin-bottom":"20px","margin-left":"10%",height:"500px"}},[a("h3",[t._v("Enter apartment information")]),a("div",{staticClass:"column"},[a("div",{staticClass:"field"},[a("label",[t._v("Apartment type:")]),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.apartmentType,expression:"apartmentType"}],staticClass:"rb-male",staticStyle:{alignment:"left"},attrs:{type:"radio",id:"one",value:"apartment"},domProps:{checked:t._q(t.apartmentType,"apartment")},on:{change:function(e){t.apartmentType="apartment"}}}),a("label",{staticClass:"rb-label",attrs:{for:"one"}},[t._v("Apartment")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.apartmentType,expression:"apartmentType"}],attrs:{type:"radio",id:"two",value:"room"},domProps:{checked:t._q(t.apartmentType,"room")},on:{change:function(e){t.apartmentType="room"}}}),a("label",{staticClass:"rb-label",attrs:{for:"two"}},[t._v("Room")])]),a("div",{staticClass:"field"},[a("label",[t._v("Number of rooms:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.numberOfRooms,expression:"numberOfRooms"}],staticClass:"form-control",staticStyle:{width:"340px"},attrs:{type:"number",min:"1"},domProps:{value:t.numberOfRooms},on:{input:function(e){e.target.composing||(t.numberOfRooms=e.target.value)}}})]),a("div",{staticClass:"field"},[a("label",[t._v("Number of guests:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.numberOfGuests,expression:"numberOfGuests"}],staticClass:"form-control",staticStyle:{width:"340px"},attrs:{type:"number",min:"1"},domProps:{value:t.numberOfGuests},on:{input:function(e){e.target.composing||(t.numberOfGuests=e.target.value)}}})]),a("div",{staticClass:"field"},[a("label",[t._v("Country:")]),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.country,expression:"country"}],staticClass:"form-control",staticStyle:{width:"340px"},attrs:{type:"text"},domProps:{value:t.country},on:{input:function(e){e.target.composing||(t.country=e.target.value)}}}),a("label",[t._v("City:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.city,expression:"city"}],staticClass:"form-control",staticStyle:{width:"340px"},attrs:{type:"text"},domProps:{value:t.city},on:{input:function(e){e.target.composing||(t.city=e.target.value)}}}),a("label",[t._v("Street:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.street,expression:"street"}],staticClass:"form-control",staticStyle:{width:"340px"},attrs:{type:"text"},domProps:{value:t.street},on:{input:function(e){e.target.composing||(t.street=e.target.value)}}}),a("label",[t._v("Number:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.number,expression:"number"}],staticClass:"form-control",staticStyle:{width:"340px"},attrs:{type:"number"},domProps:{value:t.number},on:{input:function(e){e.target.composing||(t.number=e.target.value)}}})])]),a("div",{staticClass:"column"},[a("div",{staticClass:"field"},[a("label",[t._v("Select available dates for rent:")]),a("br"),a("date-picker",{attrs:{mode:"range",color:"blue","disabled-dates":t.datesForRent},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}}),a("button",{staticClass:"btn btn-info",staticStyle:{"margin-top":"5px"},on:{click:t.saveDateForRent}},[t._v("Save date")])],1),a("div",{staticClass:"field"},[a("label",{staticStyle:{padding:"5px"}},[t._v("Upload pictures")]),a("input",{ref:"file",staticStyle:{padding:"5px"},attrs:{type:"file",multiple:"multiple"}})]),a("div",{staticClass:"field"},[a("label",[t._v("Price per night:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.pricePerNight,expression:"pricePerNight"}],staticClass:"form-control",staticStyle:{width:"340px"},attrs:{type:"number",min:"1"},domProps:{value:t.pricePerNight},on:{input:function(e){e.target.composing||(t.pricePerNight=e.target.value)}}})]),a("div",{staticClass:"field"},[a("div",{staticStyle:{float:"left"}},[a("label",[t._v("Check in time:")]),a("br"),a("time-picker",{model:{value:t.checkInTime,callback:function(e){t.checkInTime=e},expression:"checkInTime"}})],1),a("div",{staticStyle:{"margin-left":"20px",float:"left"}},[a("label",[t._v("Check out time:")]),a("br"),a("time-picker",{model:{value:t.checkOutTime,callback:function(e){t.checkOutTime=e},expression:"checkOutTime"}})],1),a("div",{staticStyle:{"padding-top":"10px"}},[a("label",{staticStyle:{"padding-top":"15px"}},[t._v("Select amenities(hover amenities for amenity details)")]),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchCriteria,expression:"searchCriteria"}],attrs:{placeholder:"Search amenities",type:"text"},domProps:{value:t.searchCriteria},on:{change:t.filterAmenities,input:function(e){e.target.composing||(t.searchCriteria=e.target.value)}}}),a("br"),a("br"),t._l(t.amenities,(function(e){return a("div",{key:e.item.id,staticStyle:{display:"inline","margin-right":"10px"}},[a("input",{attrs:{type:"checkbox"},domProps:{checked:e.checked},on:{change:function(a){return t.editAmenities(e)}}}),a("label",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"This is a tooltip ffs show up",expression:"'This is a tooltip ffs show up'"}],staticClass:"amenity-caption",staticStyle:{"margin-left":"3px"}},[t._v(t._s(e.item.caption))])])}))],2),a("button",{staticClass:"btn btn-success",staticStyle:{"margin-left":"320px"},on:{click:t.registerAmenity}},[t._v("Register")])])]),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.saved,"md-persistent":""},on:{"update:mdActive":function(e){t.saved=e},"update:md-active":function(e){t.saved=e}}},[a("span",[t._v("Apartment successfully registered!")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.saved=!1}}},[t._v("Close")])],1),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.notSaved,"md-persistent":""},on:{"update:mdActive":function(e){t.notSaved=e},"update:md-active":function(e){t.notSaved=e}}},[a("span",[t._v("There was an error saving the apartment, please re-enter information")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.notSaved=!1}}},[t._v("Close")])],1),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.apartmentTypeCheck,"md-persistent":""},on:{"update:mdActive":function(e){t.apartmentTypeCheck=e},"update:md-active":function(e){t.apartmentTypeCheck=e}}},[a("span",[t._v("You must select an apartment type")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.apartmentTypeCheck=!1}}},[t._v("Close")])],1),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.adressCheck,"md-persistent":""},on:{"update:mdActive":function(e){t.adressCheck=e},"update:md-active":function(e){t.adressCheck=e}}},[a("span",[t._v("You must enter the full adress of the apartment")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.adressCheck=!1}}},[t._v("Close")])],1),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.datesForRentCheck,"md-persistent":""},on:{"update:mdActive":function(e){t.datesForRentCheck=e},"update:md-active":function(e){t.datesForRentCheck=e}}},[a("span",[t._v("Please enter the dates when the apartment/room is available for rent")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.datesForRentCheck=!1}}},[t._v("Close")])],1),a("div",{attrs:{id:"imgTest"}})],1)},Mt=[],Ft=(a("1276"),a("1cf8")),$t=(a("2b69"),a("97fc")),Gt=a.n($t),Jt=(a("1e11"),a("e37d"));s["default"].use(Jt["a"]),s["default"].component("date-picker",q.a),s["default"].component("time-picker",Gt.a),s["default"].use(Ft["a"]);var Ht={name:"ApartmentRegistration",data:function(){return{apartmentType:"",numberOfRooms:1,numberOfGuests:1,country:"",city:"",street:"",number:"",datesForRent:[],dateRange:"",pricePerNight:1,checkInTime:"14:00",checkOutTime:"10:00",amenities:[],tempAmenities:[],checkedAmenities:[],searchCriteria:"",duration:3e3,position:"center",photos:[],saved:!1,notSaved:!1,apartmentTypeCheck:!1,adressCheck:!1,datesForRentCheck:!1,checkInOutTimeCheck:!1}},methods:{saveDateForRent:function(){var t={start:this.dateRange.start,end:this.dateRange.end};this.datesForRent.push(t),this.dateRange=""},editAmenities:function(t){var e=this;if(this.tempAmenities.forEach((function(e){e.item.id===t.item.id&&(e.checked=!e.checked)})),0===this.checkedAmenities.length)return this.checkedAmenities.push({checked:!0,item:t.item}),void console.log(this.checkedAmenities);var a=!1,s={};console.log(t.item),this.checkedAmenities.forEach((function(e){console.log("Comparing: "+e.item.id+":"+t.item.id),e.item.id===t.item.id&&(console.log("Indices match!"),a=!0,s=e)})),console.log(s),a?(this.checkedAmenities=[],this.tempAmenities.forEach((function(t){t.checked&&e.checkedAmenities.push(t)}))):this.checkedAmenities.push({checked:!0,item:t.item}),t.checked=!1,console.log(this.checkedAmenities)},filterAmenities:function(){var t=this;""===this.searchCriteria?this.amenities=this.tempAmenities:this.amenities=this.tempAmenities.filter((function(e){var a=e.item.caption.toLowerCase(),s=t.searchCriteria.toLowerCase();if(a.includes(s))return console.log(e),e}))},getBase64:function(t,e,a){for(var s=function(t){var s=new FileReader;s.addEventListener("load",(function(){return a(s.result)})),s.readAsDataURL(e[t])},n=0;n<e.length;n++)s(n)},registerAmenity:function(){if(""!==this.apartmentType)if(""===this.city||""===this.country||""===this.street||""===this.number||this.number<=0)this.adressCheck=!0;else if(0!==this.datesForRent.length)if(""!==this.checkInTime&&""!==this.checkOutTime){var t=this.checkInTime.split(":"),e=parseInt(t[0]),a=this.checkOutTime.split(":"),s=parseInt(a[0]);if(e<14||s<10)this.checkInOutTimeCheck=!0;else{var n=this.street,i=this.number,r=JSON.parse(localStorage.getItem("loggedUser"));console.log(this.datesForRent);var o=[],l=[];this.datesForRent.forEach((function(t){o.push(t.start),l.push(t.end)}));var c=[];this.checkedAmenities.forEach((function(t){c.push(t.item)}));var d=this.$refs.file.files,m=this;this.getBase64(m,d,(function(t){var e=t.toString();m.photos.push(e),d.length!=m.photos.length||u.post("apartments/registerApartment",{apartmentType:m.apartmentType,numberOfRooms:m.numberOfRooms,numberOfGuests:m.numberOfGuests,location:{address:{street:n,number:i,city:m.city,postalCode:"22330",country:m.country}},startDates:o,endDates:l,hostId:r.id,photos:m.photos,pricePerNight:m.pricePerNight,checkInTime:m.checkInTime,checkOutTime:m.checkOutTime,activityStatus:!1,amenities:c}).then((function(t){!0===t.data?m.saved=!0:m.notSaved=!0}))}))}}else this.checkInOutTimeCheck=!0;else this.datesForRentCheck=!0;else this.apartmentTypeCheck=!0}},mounted:function(){var t=this;u.get("Amenity").then((function(e){e.data.forEach((function(e){t.amenities.push({checked:!1,item:e}),t.tempAmenities.push({checked:!1,item:e})}))}))}},Lt=Ht,jt=(a("a375"),Object(h["a"])(Lt,It,Mt,!1,null,"b1fb12fe",null)),Bt=jt.exports,qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"100%","margin-top":"5%","margin-left":"5%"}},[a("div",{staticStyle:{background:"white"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchUsername,expression:"searchUsername"}],staticStyle:{margin:"10px"},attrs:{type:"text",placeholder:"Enter username"},domProps:{value:t.searchUsername},on:{input:function(e){e.target.composing||(t.searchUsername=e.target.value)}}}),a("button",{on:{click:t.searchReservationsByUsername}},[t._v("Search")])]),a("div",{staticStyle:{background:"white"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.statusFilter,expression:"statusFilter"}],staticStyle:{margin:"10px"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.statusFilter=e.target.multiple?a:a[0]}}},[a("option",{attrs:{selected:"",value:"all"}},[t._v("All")]),a("option",{attrs:{value:"0"}},[t._v("Created")]),a("option",{attrs:{value:"1"}},[t._v("Declined")]),a("option",{attrs:{value:"2"}},[t._v("Accepted")]),a("option",{attrs:{value:"3"}},[t._v("Finished")]),a("option",{attrs:{value:"4"}},[t._v("Canceled")])]),a("button",{on:{click:t.filterReservations}},[t._v("Filter")])]),a("md-table",{staticClass:"md-card md-fixed-header",staticStyle:{padding:"20px"},attrs:{"md-sort":"name","md-sort-order":"asc"},scopedSlots:t._u([{key:"md-table-row",fn:function(e){var s=e.item;return a("md-table-row",{},[a("md-table-cell",{attrs:{"md-label":"Apartment type","md-sort-by":"apartmentType"}},[t._v(t._s(s.apartmentType))]),a("md-table-cell",{attrs:{"md-label":"Location","md-sort-by":"location"}},[t._v(t._s(s.location.address.country)+", "+t._s(s.location.address.city))]),a("md-table-cell",{attrs:{"md-label":"Guest username","md-sort-by":"guestUserName"}},[t._v(t._s(s.guestUserName))]),a("md-table-cell",{attrs:{"md-label":"Starting date","md-sort-by":"startingDate"}},[t._v(t._s(s.date))]),a("md-table-cell",{attrs:{"md-label":"Rental duration","md-sort-by":"rentalDuration"}},[t._v(t._s(s.rentalDuration))]),a("md-table-cell",{attrs:{"md-label":"Status","md-sort-by":"status"}},[t._v(t._s(s.reservationStatus))]),"Created"===s.reservationStatus?a("md-table-cell",[a("button",{staticClass:"btn btn-success",on:{click:function(e){return t.acceptReservation(s.id,s)}}},[t._v("Accept")])]):t._e(),"Created"===s.reservationStatus||"Accepted"===s.reservationStatus?a("md-table-cell",[a("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.declineReservation(s.id,s)}}},[t._v("Decline")])]):t._e(),"Accepted"===s.reservationStatus?a("md-table-cell",[a("button",{staticClass:"btn btn-info",on:{click:function(e){return t.finishReservation(s.id,s)}}},[t._v("Finish")])]):t._e()],1)}}]),model:{value:t.searched,callback:function(e){t.searched=e},expression:"searched"}},[a("md-table-toolbar",[a("div",{staticClass:"md-toolbar-section-start"},[a("h2",{staticClass:"md-title"},[t._v("Reservations")])]),a("md-field",{staticClass:"md-toolbar-section-end",attrs:{"md-clearable":""}},[a("md-input",{attrs:{placeholder:"Search by guest username..."},on:{input:t.searchOnTable2},model:{value:t.search2,callback:function(e){t.search2=e},expression:"search2"}})],1)],1),a("md-table-empty-state",{attrs:{"md-label":"No reservations found","md-description":"No reservations found for this query. Try a different search term."}})],1)],1)},Vt=[];s["default"].use(c["MdTable"]),s["default"].use(c["MdCard"]),s["default"].use(c["MdField"]),s["default"].use(c["MdContent"]),s["default"].use(c["MdEmptyState"]),s["default"].use(c["MdRipple"]);var zt=function(t){return t.toString().toLowerCase()},Yt=function(t,e){return e?t.filter((function(t){return zt(t.guestUserName).includes(zt(e))})):t},Zt={name:"ReservationsFromGuests",data:function(){return{search2:null,searched:[],reservations:[],user:null,statusFilter:"",searchUsername:""}},methods:{searchOnTable2:function(){this.searched=Yt(this.reservations,this.search2)},declineReservation:function(t,e){u.put("Reservation/declineReservation/"+t).then((function(t){t.data&&(e.reservationStatus="Declined")}))},acceptReservation:function(t,e){u.put("Reservation/acceptReservation/"+t).then((function(t){t.data&&(e.reservationStatus="Accepted")}))},finishReservation:function(t,e){u.put("Reservation/finishReservation/"+t).then((function(t){t.data&&(e.reservationStatus="Finished")}))},filterReservations:function(){var t=this,e=JSON.parse(localStorage.getItem("loggedUser"));console.log("usao"),u.post("Reservation/filterReservationsByStatusAndHostID",JSON.stringify({status:this.statusFilter,hostId:e.id})).then((function(e){t.searched=e.data}))},searchReservationsByUsername:function(){var t=this,e=JSON.parse(localStorage.getItem("loggedUser"));u.post("Reservation/searchReservationsByHostAndGuestUsername",JSON.stringify({hostId:e.id,guestUsername:this.searchUsername})).then((function(e){t.searched=e.data}))}},created:function(){this.searched=this.reservations},mounted:function(){var t=this,e=JSON.parse(localStorage.getItem("loggedUserRole"));"HOST"!==e&&this.$router.push("/forbidden"),null!==localStorage.getItem("loggedUser")&&(this.user=JSON.parse(localStorage.getItem("loggedUser"))),u.get("Reservation/HostReservations/".concat(this.user.id)).then((function(e){t.reservations=e.data,t.searched=t.reservations}))}},Kt=Zt,Qt=Object(h["a"])(Kt,qt,Vt,!1,null,"0d65a0b6",null),Wt=Qt.exports,Xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"90%","margin-top":"5%","margin-left":"5%"}},[a("md-table",{staticClass:"md-card md-fixed-header",staticStyle:{padding:"20px"},attrs:{"md-sort":"name","md-sort-order":"asc"},scopedSlots:t._u([{key:"md-table-row",fn:function(e){var s=e.item;return a("md-table-row",{},[a("md-table-cell",{attrs:{"md-label":"Apartment type","md-sort-by":"apartmentType"}},[t._v(t._s(s.apartmentType))]),a("md-table-cell",{attrs:{"md-label":"Location","md-sort-by":"location"}},[t._v(t._s(s.location.address.country)+", "+t._s(s.location.address.city))]),a("md-table-cell",{attrs:{"md-label":"Guest username","md-sort-by":"guestUserName"}},[t._v(t._s(s.hostUserName))]),a("md-table-cell",{attrs:{"md-label":"Starting date","md-sort-by":"startingDate"}},[t._v(t._s(s.date))]),a("md-table-cell",{attrs:{"md-label":"Rental duration","md-sort-by":"rentalDuration"}},[t._v(t._s(s.rentalDuration))]),a("md-table-cell",{attrs:{"md-label":"Status","md-sort-by":"status"}},[t._v(t._s(s.reservationStatus))]),"Created"===s.reservationStatus||"Accepted"===s.reservationStatus?a("md-table-cell",[a("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.cancelReservation(s.id,s)}}},[t._v("Cancel")])]):t._e()],1)}}]),model:{value:t.searched,callback:function(e){t.searched=e},expression:"searched"}},[a("md-table-toolbar",[a("div",{staticClass:"md-toolbar-section-start"},[a("h2",{staticClass:"md-title"},[t._v("Reservations you made:")])]),a("md-field",{staticClass:"md-toolbar-section-end",attrs:{"md-clearable":""}},[a("md-input",{attrs:{placeholder:"Search by host username..."},on:{input:t.searchOnTable2},model:{value:t.search2,callback:function(e){t.search2=e},expression:"search2"}})],1)],1),a("md-table-empty-state",{attrs:{"md-label":"No reservations found","md-description":"No reservations found for this query. Try a different search term."}})],1)],1)},te=[];s["default"].use(c["MdTable"]),s["default"].use(c["MdCard"]),s["default"].use(c["MdField"]),s["default"].use(c["MdContent"]),s["default"].use(c["MdEmptyState"]),s["default"].use(c["MdRipple"]);var ee=function(t){return t.toString().toLowerCase()},ae=function(t,e){return e?t.filter((function(t){return ee(t.hostUserName).includes(ee(e))})):t},se={name:"ReservationsByGuest",data:function(){return{search2:null,searched:[],reservations:[],user:null}},methods:{searchOnTable2:function(){this.searched=ae(this.reservations,this.search2)},cancelReservation:function(t,e){u.put("Reservation/cancelReservation/"+t).then((function(t){t.data&&(e.reservationStatus="Canceled")}))},reload:function(){this.$forceUpdate()}},created:function(){this.searched=this.reservations},mounted:function(){var t=this;null!==localStorage.getItem("loggedUser")&&(this.user=JSON.parse(localStorage.getItem("loggedUser"))),u.get("Reservation/GuestReservations/".concat(this.user.id)).then((function(e){t.reservations=e.data,t.searched=t.reservations}))}},ne=se,ie=Object(h["a"])(ne,Xt,te,!1,null,"14ace666",null),re=ie.exports,oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"90%","margin-top":"5%","margin-left":"5%"}},[a("md-table",{staticClass:"md-card md-fixed-header",staticStyle:{padding:"20px"},attrs:{"md-sort":"name","md-sort-order":"asc"},scopedSlots:t._u([{key:"md-table-row",fn:function(e){var s=e.item;return a("md-table-row",{},[a("md-table-cell",{attrs:{"md-label":"Username","md-sort-by":"userName"}},[t._v(t._s(s.userName))]),a("md-table-cell",{attrs:{"md-label":"Name","md-sort-by":"name"}},[t._v(t._s(s.name)+" "+t._s(s.surname))]),a("md-table-cell",{attrs:{"md-label":"Gender","md-sort-by":"userGender"}},[t._v(t._s(s.userGender))]),a("md-table-cell",[a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.showDetails(s.userName)}}},[t._v("Account details")])])],1)}}]),model:{value:t.searched,callback:function(e){t.searched=e},expression:"searched"}},[a("md-table-toolbar",[a("div",{staticClass:"md-toolbar-section-start"},[a("h2",{staticClass:"md-title"},[t._v("Users")])]),a("md-field",{staticClass:"md-toolbar-section-end",attrs:{"md-clearable":""}},[a("md-input",{attrs:{placeholder:"Search by name..."},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),a("md-table-empty-state",{attrs:{"md-label":"No users found","md-description":"No user found for this '"+t.search+"' query. Try a different search term."}})],1)],1)},le=[],ce=function(t){return t.toString().toLowerCase()},de=function(t,e){return e?t.filter((function(t){return ce(t.userName).includes(ce(e))})):t};s["default"].use(c["MdTable"]),s["default"].use(c["MdCard"]),s["default"].use(c["MdField"]),s["default"].use(c["MdContent"]),s["default"].use(c["MdEmptyState"]),s["default"].use(c["MdRipple"]);var me={name:"UsersThatMadeReservations",data:function(){return{search:null,searched:[],users:[],user:null}},methods:{showDetails:function(t){this.$router.push("/userProfile/"+t)},searchOnTable:function(){this.searched=de(this.users,this.search)}},created:function(){this.searched=this.users},mounted:function(){var t=this,e=JSON.parse(localStorage.getItem("loggedUserRole"));"HOST"!==e&&this.$router.push("/forbidden"),null!==localStorage.getItem("loggedUser")&&(this.user=JSON.parse(localStorage.getItem("loggedUser"))),u.get("Reservation/UsersMadeReservations/".concat(this.user.id)).then((function(e){t.users=e.data,t.searched=t.users}))}},ue=me,pe=Object(h["a"])(ue,oe,le,!1,null,"100aed80",null),ve=pe.exports,he=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("md-table",{staticClass:"md-card md-fixed-header",staticStyle:{padding:"20px"},attrs:{"md-sort":"id","md-sort-order":"asc"},scopedSlots:t._u([{key:"md-table-row",fn:function(e){var s=e.item;return a("md-table-row",{},[a("md-table-cell",{attrs:{"md-label":"Guest username","md-sort-by":"hostUserName"}},[t._v(t._s(s.guestUserName))]),a("md-table-cell",{attrs:{"md-label":"Caption","md-sort-by":"pricePerNight"}},[t._v(t._s(s.caption))]),a("md-table-cell",{attrs:{"md-label":"Rating","md-sort-by":"apartmentType"}},[t._v(t._s(s.rating))]),a("md-table-cell",[a("button",{staticClass:"btn btn-info",on:{click:function(e){return t.showDialog(s)}}},[t._v("Details")])]),!0===s.showed&&t.isHost?a("md-table-cell",[a("button",{staticClass:"btn btn-warning",on:{click:function(e){return t.hideComment(s)}}},[t._v("Hide comment")])]):t._e(),!1===s.showed&&t.isHost?a("md-table-cell",[a("button",{staticClass:"btn btn-warning",on:{click:function(e){return t.showComment(s)}}},[t._v("Show comment")])]):t._e()],1)}}]),model:{value:t.comments,callback:function(e){t.comments=e},expression:"comments"}},[a("md-table-toolbar",[t.showEnabledComments?a("div",{staticClass:"md-toolbar-section-start"},[a("h2",{staticClass:"md-title"},[t._v("Enabled comments")])]):t._e(),t.showDisabledComments?a("div",{staticClass:"md-toolbar-section-start"},[a("h2",{staticClass:"md-title"},[t._v("Disabled comments")])]):t._e(),t.showEnabledComments?a("md-button",{on:{click:t.showDisabled}},[t._v(" Show disabled ")]):t._e(),t.showDisabledComments?a("md-button",{on:{click:t.showEnabled}},[t._v(" Show enabled ")]):t._e()],1),a("md-table-empty-state",{attrs:{"md-label":"No comments found","md-description":"No comments here."}})],1),a("modal",{attrs:{height:410,name:"commentDetailed"}},[a("div",{staticStyle:{margin:"20px"}},[a("h2",[t._v(t._s(t.commentToShow.caption))]),a("div",[a("label",[t._v("Guest username: "),a("b",[t._v(t._s(t.commentToShow.guestUserName))])])]),a("div",[a("label",[t._v("Given rating: "),a("b",[t._v(t._s(t.commentToShow.rating))])])]),a("div",[a("label",[t._v("Comment:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commentToShow.content,expression:"commentToShow.content"}],staticStyle:{"margin-left":"0","margin-right":"0"},attrs:{disabled:"",cols:"75",rows:"10"},domProps:{value:t.commentToShow.content},on:{input:function(e){e.target.composing||t.$set(t.commentToShow,"content",e.target.value)}}})]),a("div",{staticStyle:{"margin-top":"10px"}},[a("button",{staticClass:"btn btn-info",staticStyle:{"margin-left":"485px"},on:{click:t.hideDialog}},[t._v("Close")])])])])],1)},fe=[];s["default"].use(j.a);var be={name:"CommentList",data:function(){return{comments:[],fallbackComments:[],position:"center",duration:3e3,showDisabledComments:!0,showEnabledComments:!1,commentToShow:{},isAdmin:!1,isHost:!1}},methods:{showDisabled:function(){var t=this;this.showEnabledComments=!1,this.showDisabledComments=!0,this.comments=[],this.fallbackComments.forEach((function(e){!1===e.showed&&t.comments.push(e)}))},showEnabled:function(){var t=this;this.showEnabledComments=!0,this.showDisabledComments=!1,this.comments=[],this.fallbackComments.forEach((function(e){!0===e.showed&&t.comments.push(e)}))},hideComment:function(t){var e=this;console.log(t),u.get("comment/disableComment/".concat(t.id)).then((function(a){a.data&&(e.comments.splice(t,1),e.comments.forEach((function(e){t.id===e.id&&(e.showed=!0)})),e.fallbackComments.forEach((function(e){t.id===e.id&&(e.showed=!1)})),t.showed=!1)}))},showComment:function(t){var e=this;console.log(t),u.get("comment/enableComment/".concat(t.id)).then((function(a){a.data&&(e.comments.splice(t,1),e.comments.forEach((function(e){t.id===e.id&&(e.showed=!1)})),e.fallbackComments.forEach((function(e){t.id===e.id&&(e.showed=!0)})),t.showed=!0)}))},showDialog:function(t){this.commentToShow=t,this.$modal.show("commentDetailed")},hideDialog:function(){this.$modal.hide("commentDetailed")}},mounted:function(){var t=this,e=JSON.parse(localStorage.getItem("loggedUser"));this.isAdmin="ADMINISTRATOR"===JSON.parse(localStorage.getItem("loggedUserRole")),this.isHost="HOST"===JSON.parse(localStorage.getItem("loggedUserRole")),this.isHost?u.get("comment/getHostsApartmentsComments/".concat(e.id)).then((function(e){t.comments=e.data,t.fallbackComments=e.data,console.log(t.fallbackComments),t.showEnabled()})):this.isAdmin&&u.get("comment/getComments").then((function(e){t.comments=e.data,t.fallbackComments=e.data,console.log(t.fallbackComments),t.showEnabled()}))}},ge=be,we=Object(h["a"])(ge,he,fe,!1,null,"fc3e83ae",null),_e=we.exports,ye=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",staticStyle:{"overflow-y":"auto",height:"600px","background-color":"white !important",padding:"50px","padding-bottom":"10px"}},[t.changingDetails?a("div",{staticClass:"row"},[t._m(0),a("div",{staticClass:"col-sm-3"},[a("div",{staticClass:"row"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newApartmentDetails.apartmentType,expression:"newApartmentDetails.apartmentType"}],staticClass:"rb-male",staticStyle:{alignment:"left"},attrs:{type:"radio",id:"one",value:"Apartment"},domProps:{checked:t._q(t.newApartmentDetails.apartmentType,"Apartment")},on:{change:function(e){return t.$set(t.newApartmentDetails,"apartmentType","Apartment")}}}),a("label",{staticClass:"rb-label",staticStyle:{"margin-left":"5px"},attrs:{for:"one"}},[t._v("Apartment")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newApartmentDetails.apartmentType,expression:"newApartmentDetails.apartmentType"}],staticStyle:{"margin-left":"8px"},attrs:{type:"radio",id:"two",value:"Room"},domProps:{checked:t._q(t.newApartmentDetails.apartmentType,"Room")},on:{change:function(e){return t.$set(t.newApartmentDetails,"apartmentType","Room")}}}),a("label",{staticClass:"rb-label",staticStyle:{"margin-left":"5px"},attrs:{for:"two"}},[t._v("Room")])]),a("div",{staticClass:"row"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newApartmentDetails.numberOfRooms,expression:"newApartmentDetails.numberOfRooms"}],attrs:{type:"number",min:"1"},domProps:{value:t.newApartmentDetails.numberOfRooms},on:{input:function(e){e.target.composing||t.$set(t.newApartmentDetails,"numberOfRooms",e.target.value)}}})]),a("div",{staticClass:"row"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newApartmentDetails.numberOfGuests,expression:"newApartmentDetails.numberOfGuests"}],staticStyle:{"margin-top":"5px"},attrs:{type:"number",min:"1"},domProps:{value:t.newApartmentDetails.numberOfGuests},on:{input:function(e){e.target.composing||t.$set(t.newApartmentDetails,"numberOfGuests",e.target.value)}}})]),a("div",{staticClass:"row"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newApartmentDetails.location.address.country,expression:"newApartmentDetails.location.address.country"}],staticStyle:{"margin-top":"5px"},attrs:{type:"text"},domProps:{value:t.newApartmentDetails.location.address.country},on:{input:function(e){e.target.composing||t.$set(t.newApartmentDetails.location.address,"country",e.target.value)}}}),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newApartmentDetails.location.address.city,expression:"newApartmentDetails.location.address.city"}],staticStyle:{"margin-top":"5px"},attrs:{type:"text"},domProps:{value:t.newApartmentDetails.location.address.city},on:{input:function(e){e.target.composing||t.$set(t.newApartmentDetails.location.address,"city",e.target.value)}}}),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newApartmentDetails.location.address.street,expression:"newApartmentDetails.location.address.street"}],staticStyle:{"margin-top":"5px"},attrs:{type:"text"},domProps:{value:t.newApartmentDetails.location.address.street},on:{input:function(e){e.target.composing||t.$set(t.newApartmentDetails.location.address,"street",e.target.value)}}}),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newApartmentDetails.location.address.number,expression:"newApartmentDetails.location.address.number"}],staticStyle:{"margin-top":"5px"},attrs:{type:"text"},domProps:{value:t.newApartmentDetails.location.address.number},on:{input:function(e){e.target.composing||t.$set(t.newApartmentDetails.location.address,"number",e.target.value)}}}),a("br")])]),t._m(1),a("div",{staticClass:"col-sm-2"},[a("div",{staticClass:"row"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newApartmentDetails.pricePerNight,expression:"newApartmentDetails.pricePerNight"}],staticStyle:{width:"150px"},attrs:{type:"number",min:"0"},domProps:{value:t.newApartmentDetails.pricePerNight},on:{input:function(e){e.target.composing||t.$set(t.newApartmentDetails,"pricePerNight",e.target.value)}}})]),a("div",{staticClass:"row"},[a("time-picker",{staticStyle:{"margin-top":"5px"},model:{value:t.newApartmentDetails.checkInTime,callback:function(e){t.$set(t.newApartmentDetails,"checkInTime",e)},expression:"newApartmentDetails.checkInTime"}})],1),a("div",{staticClass:"row"},[a("time-picker",{staticStyle:{"margin-top":"5px"},model:{value:t.newApartmentDetails.checkOutTime,callback:function(e){t.$set(t.newApartmentDetails,"checkOutTime",e)},expression:"newApartmentDetails.checkOutTime"}})],1),a("div",{staticClass:"row"},[a("md-field",[a("md-select",{attrs:{multiple:""},model:{value:t.newAmenities,callback:function(e){t.newAmenities=e},expression:"newAmenities"}},t._l(t.amenities,(function(e){return a("md-option",{key:e.caption,attrs:{value:e.id}},[t._v(t._s(e.caption))])})),1)],1)],1)]),a("div",[t.changingDetails?a("button",{staticClass:"btn btn-success",staticStyle:{width:"76px"},on:{click:function(e){return t.saveDetails(t.apartmentDetails)}}},[t._v("Save ")]):t._e(),a("br"),a("br"),t.changingDetails?a("button",{staticClass:"btn btn-secondary",on:{click:function(e){t.changingDetails=!1}}},[t._v("Cancel")]):t._e()])]):t._e(),t.changingDetails?t._e():a("div",{staticClass:"row"},[t._m(2),a("div",{staticClass:"col-sm-3"},[a("div",{staticClass:"row"},[a("label",[t._v(t._s(t.apartmentDetails.apartmentType))])]),a("div",{staticClass:"row"},[a("label",[t._v(t._s(t.apartmentDetails.numberOfRooms))])]),a("div",{staticClass:"row"},[a("label",[t._v(t._s(t.apartmentDetails.numberOfGuests))])]),a("div",{staticClass:"row"},[t.apartmentDetails.location?a("label",[t._v(t._s(t.apartmentDetails.location.address.country)+", "+t._s(t.apartmentDetails.location.address.city)+", "+t._s(t.apartmentDetails.location.address.street)+" "+t._s(t.apartmentDetails.location.address.number))]):t._e()]),a("div",{staticClass:"row"},[a("label",[t._v(t._s(t.apartmentDetails.userName))])])]),t._m(3),a("div",{staticClass:"col-sm-2"},[a("div",{staticClass:"row"},[a("label",[t._v(t._s(t.apartmentDetails.pricePerNight))])]),a("div",{staticClass:"row"},[a("label",[t._v(t._s(t.apartmentDetails.checkInTime))])]),a("div",{staticClass:"row"},[a("label",[t._v(t._s(t.apartmentDetails.checkOutTime))])]),a("div",{staticClass:"row"},[a("label",[t._v(t._s(t.apartmentDetails.activityStatus))])]),a("div",{staticClass:"row"},t._l(t.apartmentDetails.amenities,(function(e,s){return a("label",{key:s},[t._v(t._s(e.caption)+"; ")])})),0)]),a("div",[t.changingDetails?t._e():a("button",{staticClass:"btn btn-info",on:{click:t.changeDetails}},[t._v("Change details")])])]),t.changingDetails?t._e():a("div",{staticClass:"row"},[a("div",{staticClass:"carousel slide col-5",staticStyle:{height:"50%",width:"50%"},attrs:{id:"carouselExampleControls","data-ride":"carousel"}},[a("div",{staticClass:"carousel-inner"},t._l(t.apartmentDetails.photos,(function(e,s){return a("div",{key:s,class:t.getClass(s)},[a("img",{staticClass:"d-block w-100",attrs:{src:e,alt:"Server error"}})])})),0),t._m(4),t._m(5)]),a("google-map",{staticClass:"col-5",staticStyle:{width:"80%"},attrs:{location:t.apartmentDetails.location}})],1),a("div",{staticClass:"row",staticStyle:{"margin-left":"10px"}},[a("vc-calendar",{attrs:{"available-dates":t.availableDates,attributes:t.attributes}})],1),a("hr"),a("h2",[t._v("Comment section")]),a("hr"),a("div",[t.isGuest&&t.eligibleForCommenting?a("div",{staticStyle:{"margin-bottom":"20px"}},[a("label",[t._v("Rate this apartment below: ")]),a("star-rating",{attrs:{rating:t.rating}}),a("br"),a("label",[t._v("Enter a caption:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.commentCaption,expression:"commentCaption"}],attrs:{type:"text"},domProps:{value:t.commentCaption},on:{input:function(e){e.target.composing||(t.commentCaption=e.target.value)}}}),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commentContent,expression:"commentContent"}],staticStyle:{"font-size":"18px"},attrs:{rows:"3",cols:"110",placeholder:"Write a comment, "+t.guest.userName},domProps:{value:t.commentContent},on:{input:function(e){e.target.composing||(t.commentContent=e.target.value)}}}),a("button",{staticClass:"btn btn-success",staticStyle:{"margin-top":"10px","margin-left":"860px"},on:{click:t.postComment}},[t._v("Post comment")]),a("hr")],1):t._e(),t._l(t.comments,(function(e){return a("div",{key:e.id},[t.isGuest&&e.showed?a("div",[a("label",{staticStyle:{"font-size":"24px"}},[t._v("Posted by: "+t._s(e.guestUserName))]),a("br"),a("label",{staticStyle:{"font-size":"20px"}},[t._v("Caption: "+t._s(e.caption))]),a("br"),a("label",{staticStyle:{"font-size":"20px"}},[t._v("Rated with: "+t._s(e.rating))]),a("br"),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"comment.content"}],staticStyle:{"margin-top":"20px","font-size":"18px"},attrs:{disabled:"",cols:"110",rows:"3"},domProps:{value:e.content},on:{input:function(a){a.target.composing||t.$set(e,"content",a.target.value)}}}),a("br"),a("hr")]):t._e(),t.isAdmin||t.isHost?a("div",[a("label",{staticStyle:{"font-size":"24px"}},[t._v("Posted by: "+t._s(e.guestUserName))]),e.showed?a("label",{staticStyle:{"margin-left":"500px"}},[t._m(6,!0)]):t._e(),a("br"),e.showed?t._e():a("label",{staticStyle:{"margin-left":"500px"}},[t._m(7,!0)]),a("br"),a("label",{staticStyle:{"font-size":"20px"}},[t._v("Caption: "+t._s(e.caption))]),a("br"),a("label",{staticStyle:{"font-size":"20px"}},[t._v("Rated with: "+t._s(e.rating))]),a("br"),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"comment.content"}],staticStyle:{"margin-top":"20px","font-size":"18px"},attrs:{disabled:"",cols:"110",rows:"3"},domProps:{value:e.content},on:{input:function(a){a.target.composing||t.$set(e,"content",a.target.value)}}}),a("br"),a("hr")]):t._e()])}))],2),a("md-snackbar",{attrs:{"md-position":"center","md-duration":3e3,"md-active":t.validationChange,"md-persistent":""},on:{"update:mdActive":function(e){t.validationChange=e},"update:md-active":function(e){t.validationChange=e}}},[a("span",[t._v("Changing of apartment details failed")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.validationChange=!1}}},[t._v("Close")])],1)],1)},Ce=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-3"},[a("div",{staticClass:"row"},[a("label",[t._v("Apartment type: ")])]),a("div",{staticClass:"row"},[a("label",{staticStyle:{"margin-top":"5px"}},[t._v("Number of rooms: ")])]),a("div",{staticClass:"row"},[a("label",{staticStyle:{"margin-top":"5px"}},[t._v("Number of guests: ")])]),a("div",{staticClass:"row"},[a("label",[t._v("Location: ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-2"},[a("div",{staticClass:"row"},[a("label",[t._v("Price per night: ")])]),a("div",{staticClass:"row"},[a("label",{staticStyle:{"margin-top":"5px"}},[t._v("Check in time: ")])]),a("div",{staticClass:"row"},[a("label",{staticStyle:{"margin-top":"5px"}},[t._v("Check out time: ")])]),a("div",{staticClass:"row"},[a("label",{staticStyle:{"margin-top":"5px"}},[t._v("Amenities: ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-3"},[a("div",{staticClass:"row"},[a("label",[t._v("Apartment type: ")])]),a("div",{staticClass:"row"},[a("label",[t._v("Number of rooms: ")])]),a("div",{staticClass:"row"},[a("label",[t._v("Number of guests: ")])]),a("div",{staticClass:"row"},[a("label",[t._v("Location: ")])]),a("div",{staticClass:"row"},[a("label",[t._v("Host username: ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-2"},[a("div",{staticClass:"row"},[a("label",[t._v("Price per night: ")])]),a("div",{staticClass:"row"},[a("label",[t._v("Check in time: ")])]),a("div",{staticClass:"row"},[a("label",[t._v("Check out time: ")])]),a("div",{staticClass:"row"},[a("label",[t._v("Activity status: ")])]),a("div",{staticClass:"row"},[a("label",[t._v("Amenities: ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"carousel-control-prev",attrs:{href:"#carouselExampleControls",role:"button","data-slide":"prev"}},[a("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"sr-only"},[t._v("Previous")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"carousel-control-next",attrs:{href:"#carouselExampleControls",role:"button","data-slide":"next"}},[a("span",{staticClass:"carousel-control-next-icon",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"sr-only"},[t._v("Next")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b",[a("i",[t._v("Comment visible")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b",[a("i",[t._v("Comment hidden")])])}],Se=(a("7db0"),a("c1da")),ke=a.n(Se),Ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("gmap-map",{staticStyle:{width:"100%",height:"400px"},attrs:{center:t.center,zoom:12}},t._l(t.markers,(function(e,s){return a("gmap-marker",{key:s,attrs:{position:e.position},on:{click:function(a){t.center=e.position}}})})),1)],1)},xe=[],Ne={name:"GoogleMap.vue",props:["location"],data:function(){return{center:{lat:45.508,lng:-73.587},markers:[],places:[],currentPlace:null}},mounted:function(){var t=this;setTimeout((function(){t.setOtherLocation(t.location)}),1e3)},methods:{addMarker:function(){if(this.currentPlace){var t={lat:this.currentPlace.geometry.location.lat,lng:this.currentPlace.geometry.location.lng};this.markers.push({position:t}),this.places.push(this.currentPlace),this.center=t,this.currentPlace=null}},setOtherLocation:function(){var t=this;this.location&&u.get("https://maps.googleapis.com/maps/api/geocode/json?address="+this.location.address.number+this.location.address.street+","+this.location.address.city+","+this.location.address.country+"&key=AIzaSyDL4anuQdZ6zzjSGiJKbhZZaEAYKgME72k").then((function(e){t.currentPlace=e.data.results[0],t.addMarker()}))}}},De=Ne,Re=Object(h["a"])(De,Ae,xe,!1,null,"6455a7df",null),Oe=Re.exports;s["default"].use(z.a,{componentPrefix:"vc"}),s["default"].component("star-rating",ke.a),s["default"].component("time-picker",Gt.a);var Ue={name:"ApartmentDetails",components:{GoogleMap:Oe},data:function(){return{apartmentId:"",amenities:[],apartmentDetails:"",availableDates:[],occupiedDates:[],attributes:[],comments:[],eligibleForCommenting:!1,guest:{},rating:3,commentCaption:"",commentContent:"",reservationId:"",minusOne:"-1",changingDetails:!1,newApartmentDetails:{},validationChange:!1,newAmenities:[],amenityObjects:[],isGuest:!1,isAdmin:!1,isHost:!1}},methods:{getClass:function(t){return 0===t?"carousel-item active":"carousel-item"},postComment:function(){var t=this,e=this.guest.id;console.log("This is guests id: "+e);var a={caption:this.commentCaption,content:this.commentContent,userId:e,reservationId:this.reservationId,apartmentId:this.$route.params.id,rating:this.rating};u.post("comment/saveCommentAndGrade",JSON.stringify(a)).then((function(e){e.data&&(t.eligibleForCommenting=!1)}))},changeDetails:function(){var t=this;u.get("Amenity").then((function(e){t.amenities=e.data,t.newApartmentDetails=t.apartmentDetails,t.changingDetails=!0}))},saveDetails:function(t){for(var e=this,a=function(t){e.amenityObjects.push(e.amenities.find((function(a){return a.id===e.newAmenities[t]})))},s=0;s<this.newAmenities.length;s++)a(s);this.apartmentDetails.amenities=this.amenityObjects,console.log(this.apartmentDetails.amenities),u.post("apartments/editDetails",JSON.stringify(t)).then((function(t){t.data?(e.apartmentDetails=e.newApartmentDetails,e.changingDetails=!1):(e.validationChange=!0,e.changingDetails=!1)}))}},mounted:function(){var t=this;this.isGuest="GUEST"===JSON.parse(localStorage.getItem("loggedUserRole")),this.isAdmin="ADMINISTRATOR"===JSON.parse(localStorage.getItem("loggedUserRole")),this.isHost="HOST"===JSON.parse(localStorage.getItem("loggedUserRole")),this.isGuest&&(this.guest=JSON.parse(localStorage.getItem("loggedUser")),u.post("comment/checkRatingEligibility",{userId:this.guest.id,apartmentId:this.$route.params.id}).then((function(e){console.log(e.data),-1===e.data?(t.eligibleForCommenting=!1,console.log(t.eligibleForCommenting)):(t.eligibleForCommenting=!0,t.reservationId=e.data,console.log(t.eligibleForCommenting),console.log(t.reservationId))}))),this.apartmentId=this.$route.params.id,u.get("apartments/apartmentDetails/".concat(this.apartmentId)).then((function(e){if(e.data){t.apartmentDetails=e.data;for(var a=0;a<t.apartmentDetails.startDates.length;a++)t.availableDates.push({start:t.apartmentDetails.startDates[a],end:t.apartmentDetails.endDates[a]});t.apartmentDetails.reservations.forEach((function(e){t.occupiedDates.push({start:e.startingDate,span:e.rentalDuration})})),t.attributes.push({highlight:!0,dates:t.occupiedDates}),t.comments=t.apartmentDetails.comments,console.log(t.comments)}}))}},Te=Ue,Pe=(a("dd08"),Object(h["a"])(Te,ye,Ce,!1,null,"a1895eb0",null)),Ee=Pe.exports,Ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",staticStyle:{"margin-top":"2%","background-color":"white !important",width:"fit-content",padding:"50px"}},[a("h2",[t._v("Change amenity details")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4",staticStyle:{flex:"100%","max-width":"100%"}},[a("label",[t._v("Caption")]),a("div",{staticClass:"form-group pass_show"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.caption,expression:"caption"}],staticClass:"form-control",attrs:{placeholder:"Caption"},domProps:{value:t.caption},on:{input:function(e){e.target.composing||(t.caption=e.target.value)}}})]),a("label",[t._v("Description")]),a("div",{staticClass:"form-group pass_show"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",attrs:{placeholder:"Description"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),a("label",[t._v("Type")]),a("div",{staticClass:"form-group pass_show"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"form-control",attrs:{placeholder:"Type"},domProps:{value:t.type},on:{input:function(e){e.target.composing||(t.type=e.target.value)}}})]),a("button",{staticClass:"btn btn-info",staticStyle:{float:"left"},attrs:{type:"button"},on:{click:t.changeDetails}},[t._v("Change details")]),a("router-link",{staticClass:"btn btn-dark",staticStyle:{float:"right"},attrs:{tag:"button",to:"/AllAmenities",type:"button"}},[t._v("Cancel")])],1)]),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.showSnackbar,"md-persistent":""},on:{"update:mdActive":function(e){t.showSnackbar=e},"update:md-active":function(e){t.showSnackbar=e}}},[a("span",[t._v("Amenity successfully changed.")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.showSnackbar=!1}}},[t._v("Retry")])],1),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.showSnackbar1,"md-persistent":""},on:{"update:mdActive":function(e){t.showSnackbar1=e},"update:md-active":function(e){t.showSnackbar1=e}}},[a("span",[t._v("All fields are required.")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.showSnackbar1=!1}}},[t._v("Retry")])],1)],1)},Me=[],Fe=(a("a4d3"),a("e01a"),{name:"ChangeAmenityDetails",data:function(){return{amenity:null,caption:null,description:null,type:null,showSnackbar:!1,showSnackbar1:!1,position:"center",duration:3e3}},methods:{changeDetails:function(){var t=this;""!==this.caption&&""!==this.description&&""!==this.type?u.put("Amenity/changeAmenity",JSON.stringify({id:this.amenity.id,caption:this.caption,description:this.description,type:this.type})).then((function(e){e.data&&(t.showSnackbar=!0)})):this.showSnackbar1=!0}},mounted:function(){var t=this,e=JSON.parse(localStorage.getItem("loggedUserRole"));"ADMINISTRATOR"!==e&&this.$router.push("/forbidden");var a=this.$route.params.id;u.get("Amenity/getAmenity/".concat(a)).then((function(e){e.data&&(t.amenity=e.data,t.caption=t.amenity.caption,t.description=t.amenity.description,t.type=t.amenity.type)}))}}),$e=Fe,Ge=Object(h["a"])($e,Ie,Me,!1,null,"fb3255da",null),Je=Ge.exports,He=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",staticStyle:{"margin-top":"2%","background-color":"white !important",width:"fit-content",padding:"50px"}},[a("h2",[t._v("Create new amenity")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4",staticStyle:{flex:"100%","max-width":"100%"}},[a("label",[t._v("Caption")]),a("div",{staticClass:"form-group pass_show"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.caption,expression:"caption"}],staticClass:"form-control",attrs:{placeholder:"Caption"},domProps:{value:t.caption},on:{input:function(e){e.target.composing||(t.caption=e.target.value)}}})]),a("label",[t._v("Description")]),a("div",{staticClass:"form-group pass_show"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",attrs:{placeholder:"Description"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),a("label",[t._v("Type")]),a("div",{staticClass:"form-group pass_show"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"form-control",attrs:{placeholder:"Type"},domProps:{value:t.type},on:{input:function(e){e.target.composing||(t.type=e.target.value)}}})]),a("button",{staticClass:"btn btn-info",staticStyle:{float:"left"},attrs:{type:"button"},on:{click:t.createAmenity}},[t._v("Create amenity")]),a("router-link",{staticClass:"btn btn-dark",staticStyle:{float:"right"},attrs:{tag:"button",to:"/AllAmenities",type:"button"}},[t._v("Cancel")])],1)]),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.showSnackbar,"md-persistent":""},on:{"update:mdActive":function(e){t.showSnackbar=e},"update:md-active":function(e){t.showSnackbar=e}}},[a("span",[t._v("Amenity successfully created.")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.showSnackbar=!1}}},[t._v("Retry")])],1),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.showSnackbar1,"md-persistent":""},on:{"update:mdActive":function(e){t.showSnackbar1=e},"update:md-active":function(e){t.showSnackbar1=e}}},[a("span",[t._v("All fields are required.")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.showSnackbar1=!1}}},[t._v("Retry")])],1)],1)},Le=[],je={name:"CreateAmenity",data:function(){return{caption:"",description:"",type:"",showSnackbar:!1,showSnackbar1:!1,position:"center",duration:3e3}},methods:{createAmenity:function(){var t=this;""!==this.caption&&""!==this.description&&""!==this.type?u.post("Amenity/createAmenity",JSON.stringify({caption:this.caption,description:this.description,type:this.type})).then((function(e){e.data&&(t.showSnackbar=!0)})):this.showSnackbar1=!0}},mounted:function(){var t=JSON.parse(localStorage.getItem("loggedUserRole"));"ADMINISTRATOR"!==t&&this.$router.push("/forbidden")}},Be=je,qe=Object(h["a"])(Be,He,Le,!1,null,"1a58fc53",null),Ve=qe.exports,ze=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{staticClass:"form-style-9",on:{submit:function(e){return e.preventDefault(),t.showData(e)}}},[a("ul",[a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"field-style field-full align-none",attrs:{name:"name",placeholder:"Name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.surname,expression:"surname"}],staticClass:"field-style field-full align-none",attrs:{name:"surname",placeholder:"Surname"},domProps:{value:t.surname},on:{input:function(e){e.target.composing||(t.surname=e.target.value)}}})]),a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"field-style field-full align-none",attrs:{name:"username",placeholder:"Username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"field-style field-full align-none",attrs:{type:"password",name:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.controlpw,expression:"controlpw"}],staticClass:"field-style field-full align-none",attrs:{type:"password",name:"password",placeholder:"Re-type password"},domProps:{value:t.controlpw},on:{input:function(e){e.target.composing||(t.controlpw=e.target.value)}}})]),a("li",[a("div",{staticClass:"rb-group"},[a("label",[t._v("Gender:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.gender,expression:"gender"}],staticClass:"rb-male",staticStyle:{alignment:"left"},attrs:{type:"radio",id:"one",value:"MALE"},domProps:{checked:t._q(t.gender,"MALE")},on:{change:function(e){t.gender="MALE"}}}),a("label",{staticClass:"rb-label",attrs:{for:"one"}},[t._v("Male")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.gender,expression:"gender"}],attrs:{type:"radio",id:"two",value:"FEMALE"},domProps:{checked:t._q(t.gender,"FEMALE")},on:{change:function(e){t.gender="FEMALE"}}}),a("label",{staticClass:"rb-label",attrs:{for:"two"}},[t._v("Female")])])]),t.showValidation1?a("li",[a("span",{staticStyle:{color:"red"}},[t._v("None of the fields can remain empty.")])]):t._e(),t.showValidation2?a("li",[a("span",{staticStyle:{color:"red"}},[t._v("Passwords needs to be at least 6 characters long.")])]):t._e(),t._m(0)])]),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.showSnackbar1,"md-persistent":""},on:{"update:mdActive":function(e){t.showSnackbar1=e},"update:md-active":function(e){t.showSnackbar1=e}}},[a("span",[t._v("You registered successfully!")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.showSnackbar1=!1}}},[t._v("Ok")])],1),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.showSnackbar2,"md-persistent":""},on:{"update:mdActive":function(e){t.showSnackbar2=e},"update:md-active":function(e){t.showSnackbar2=e}}},[a("span",[t._v("Username: "+t._s(this.username)+" is already taken!")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.showSnackbar2=!1}}},[t._v("Ok")])],1),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.invalidFieldsSnackbar,"md-persistent":""},on:{"update:mdActive":function(e){t.invalidFieldsSnackbar=e},"update:md-active":function(e){t.invalidFieldsSnackbar=e}}},[a("span",[t._v("None of the fields can remain empty")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.invalidFieldsSnackbar=!1}}},[t._v("Close")])],1),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.passwordsNotMatchingSnackbar,"md-persistent":""},on:{"update:mdActive":function(e){t.passwordsNotMatchingSnackbar=e},"update:md-active":function(e){t.passwordsNotMatchingSnackbar=e}}},[a("span",[t._v("Passwords aren't matching")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.passwordsNotMatchingSnackbar=!1}}},[t._v("Close")])],1),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.genderNotSelectedSnackbar,"md-persistent":""},on:{"update:mdActive":function(e){t.genderNotSelectedSnackbar=e},"update:md-active":function(e){t.genderNotSelectedSnackbar=e}}},[a("span",[t._v("Gender must be specified")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.genderNotSelectedSnackbar=!1}}},[t._v("Close")])],1)],1)},Ye=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("input",{attrs:{type:"submit",value:"Register host"}})])}];s["default"].use(c["MdSnackbar"]),s["default"].use(c["MdButton"]);var Ze={name:"CreateHost.vue",data:function(){return{showValidation1:"",showValidation2:"",username:"",password:"",controlpw:"",name:"",surname:"",gender:"",showSnackbar1:!1,showSnackbar2:!1,position:"center",duration:3e3,invalidFieldsSnackbar:!1,passwordsNotMatchingSnackbar:!1,genderNotSelectedSnackbar:!1}},methods:{showData:function(){var t=this;""===this.username||""===this.password||""===this.name||""===this.surname||""===this.gender?(this.showValidation1=!0,this.invalidFieldsSnackbar=!0):this.showValidation1=!1,this.password.length<=5?this.showValidation2=!0:(this.showValidation2=!1,this.password===this.controlpw?(this.showValidation1=!1,this.showValidation2=!1,u.post("/Register",JSON.stringify({userName:this.username,name:this.name,surname:this.surname,password:this.password,userGender:this.gender,userRole:"HOST"})).then((function(e){e.data?t.showSnackbar1=!0:t.showSnackbar2=!0}))):this.passwordsNotMatchingSnackbar=!0)}},mounted:function(){var t=JSON.parse(localStorage.getItem("loggedUserRole"));"ADMINISTRATOR"!==t&&this.$router.push("/forbidden")}},Ke=Ze,Qe=(a("606e6"),Object(h["a"])(Ke,ze,Ye,!1,null,"159bdc95",null)),We=Qe.exports,Xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",staticStyle:{"margin-top":"2%","background-color":"white !important",padding:"50px"}},[a("h2",[t._v("Details")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[t._m(0),t._m(1),t._m(2),t._m(3),"HOST"==t.userDetails.userRole?a("div",{staticClass:"row"},[a("label",[t._v("Available apartments: ")])]):t._e(),"HOST"==t.userDetails.userRole?a("div",{staticClass:"row"},[a("label",[t._v("Rented apartments: ")])]):t._e(),"GUEST"==t.userDetails.userRole?a("div",{staticClass:"row"},[a("label",[t._v("Number of made reservations: ")])]):t._e()]),a("div",{staticClass:"col-sm-3"},[a("div",{staticClass:"row"},[a("label",[t._v(t._s(t.userDetails.userName))])]),a("div",{staticClass:"row"},[a("label",[t._v(t._s(t.userDetails.name))])]),a("div",{staticClass:"row"},[a("label",[t._v(t._s(t.userDetails.surname))])]),a("div",{staticClass:"row"},[a("label",[t._v(t._s(t.userDetails.userGender))])]),"HOST"==t.userDetails.userRole?a("div",{staticClass:"row"},[a("label",[t._v(t._s(t.userDetails.availableApartments))])]):t._e(),"HOST"==t.userDetails.userRole?a("div",{staticClass:"row"},[a("label",[t._v(t._s(t.userDetails.rentedApartments))])]):t._e(),"GUEST"==t.userDetails.userRole?a("div",{staticClass:"row"},[a("label",[t._v(t._s(t.userDetails.numberOfReservationsMade))])]):t._e()])])])},ta=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("label",[t._v("Username: ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("label",[t._v("Name: ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("label",[t._v("Surname: ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("label",[t._v("Gender: ")])])}],ea={name:"UserProfile.vue",mounted:function(){var t=this,e=this.$route.params.userName;u.get("/User/UserDetails/"+e).then((function(e){e.data&&(t.userDetails=e.data)}))},data:function(){return{userDetails:""}}},aa=ea,sa=Object(h["a"])(aa,Xe,ta,!1,null,"21882254",null),na=sa.exports,ia=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ra=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"background-color":"white !important",padding:"20px"}},[a("div",{staticClass:"gandalf"},[a("div",{staticClass:"fireball"}),a("div",{staticClass:"skirt"}),a("div",{staticClass:"sleeves"}),a("div",{staticClass:"shoulders"},[a("div",{staticClass:"hand left"}),a("div",{staticClass:"hand right"})]),a("div",{staticClass:"head"},[a("div",{staticClass:"hair"}),a("div",{staticClass:"beard"})])]),a("div",{staticClass:"message"},[a("h1",[t._v("403 - You Shall Not Pass")]),a("p",[t._v("Uh oh, Gandalf is blocking the way!"),a("br"),t._v("Maybe you have a typo in the url? Or you meant to go to a different location?")])])])}],oa={name:"403Page.vue"},la=oa,ca=(a("6d24"),Object(h["a"])(la,ia,ra,!1,null,"0426d91e",null)),da=ca.exports,ma=a("755e");s["default"].use(r["a"]),s["default"].use(ma,{load:{key:"AIzaSyDL4anuQdZ6zzjSGiJKbhZZaEAYKgME72k",libraries:"places"}});var ua=[{path:"/",component:F},{path:"/login",component:b},{path:"/register",component:S},{path:"/Users",component:U},{path:"/apartments",component:X},{path:"/AllReservations",component:lt},{path:"/AllAmenities",component:ft},{path:"/Profile",component:Dt},{path:"/ChangePassword",component:Ct},{path:"/ChangeDetails",component:Et},{path:"/apartmentRegistration",component:Bt},{path:"/reservationsFromGuests",component:Wt},{path:"/myReservations",component:re},{path:"/guests",component:ve},{path:"/apartmentDetails/:id",component:Ee},{path:"/changeAmenityDetails/:id",component:Je},{path:"/createAmenity",component:Ve},{path:"/commentList",component:_e},{path:"/apartmentDetails/:id",component:Ee},{path:"/registerHost",component:We},{path:"/userProfile/:userName",component:na},{path:"/forbidden",component:da}],pa=new r["a"]({routes:ua}),va={router:pa,name:"App",components:{},data:function(){return{loggedUserRole:""}},mounted:function(){var t=this;this.$root.$on("messageToParent",(function(e){t.loggedUserRole=e,localStorage.setItem("loggedUserRole",JSON.stringify(e))})),this.$root.$on("loggedUser",(function(t){localStorage.setItem("loggedUser",JSON.stringify(t))})),null!==localStorage.getItem("loggedUserRole")&&(this.loggedUserRole=JSON.parse(localStorage.getItem("loggedUserRole")))},methods:{logout:function(){this.loggedUserRole="",localStorage.clear(),this.$router.push("/")}}},ha=va,fa=(a("5c0b"),Object(h["a"])(ha,n,i,!1,null,null,null)),ba=fa.exports;s["default"].config.productionTip=!1,new s["default"]({render:function(t){return t(ba)}}).$mount("#app")},"5a67":function(t,e,a){},"5c0b":function(t,e,a){"use strict";var s=a("9c0c"),n=a.n(s);n.a},"606e6":function(t,e,a){"use strict";var s=a("b0b7"),n=a.n(s);n.a},6078:function(t,e,a){},"6a08":function(t,e,a){},"6c72":function(t,e,a){"use strict";var s=a("d00c"),n=a.n(s);n.a},"6d24":function(t,e,a){"use strict";var s=a("cb6a"),n=a.n(s);n.a},8327:function(t,e,a){"use strict";var s=a("1991"),n=a.n(s);n.a},"928a":function(t,e,a){"use strict";var s=a("3e9c"),n=a.n(s);n.a},9348:function(t,e,a){"use strict";var s=a("b346"),n=a.n(s);n.a},"9c0c":function(t,e,a){},"9ea9":function(t,e,a){"use strict";var s=a("6a08"),n=a.n(s);n.a},a375:function(t,e,a){"use strict";var s=a("b031"),n=a.n(s);n.a},b031:function(t,e,a){},b0b7:function(t,e,a){},b346:function(t,e,a){},c414:function(t,e,a){"use strict";var s=a("4690"),n=a.n(s);n.a},cb6a:function(t,e,a){},d00c:function(t,e,a){},dd08:function(t,e,a){"use strict";var s=a("6078"),n=a.n(s);n.a},fc0f:function(t,e,a){"use strict";var s=a("5a67"),n=a.n(s);n.a}});
//# sourceMappingURL=app.a43d00a1.js.map