(function(t){function e(e){for(var s,i,o=e[0],l=e[1],c=e[2],u=0,m=[];u<o.length;u++)i=o[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&m.push(r[i][0]),r[i]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(m.length)m.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,o=1;o<a.length;o++){var l=a[o];0!==r[l]&&(s=!1)}s&&(n.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},r={app:0},n=[];function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light",attrs:{id:"mainNav"}},[t._m(0),t._m(1),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNav"}},[a("ul",{staticClass:"navbar-nav mr-auto"},[a("li",{staticClass:"nav-item active"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/",href:"#"}},[t._v("Home "),a("span",{staticClass:"sr-only"},[t._v("(current)")])])],1),a("li",{staticClass:"nav-item"},["HOST"!==t.loggedUserRole?a("router-link",{staticClass:"nav-link",attrs:{to:"/apartments",href:"#"}},[t._v("Apartments")]):t._e()],1)]),a("ul",{staticClass:"navbar-nav"},[""===t.loggedUserRole?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/login"}},[t._v("Login")])],1):t._e(),""===t.loggedUserRole?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/register"}},[t._v("Register")])],1):t._e(),"GUEST"===t.loggedUserRole?a("li",[a("div",{staticClass:"dropdown",staticStyle:{"margin-right":"50px"}},[a("button",{staticClass:"btn btn-info dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton1","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v(" Profile ")]),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton1"}},[a("router-link",{staticClass:"dropdown-item",attrs:{to:"/Profile",tag:"a",href:"#"}},[t._v("My account")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/myReservations",href:"#"}},[t._v("My reservations")]),a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:t.logout}},[t._v("Logout")])],1)])]):t._e(),"HOST"===t.loggedUserRole?a("li",[a("div",{staticClass:"dropdown",staticStyle:{"margin-right":"50px"}},[a("button",{staticClass:"btn btn-info dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton2","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v(" Profile ")]),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton2"}},[a("router-link",{staticClass:"dropdown-item",attrs:{to:"/Profile",tag:"a",href:"#"}},[t._v("My account")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/apartments",href:"#"}},[t._v("My apartments")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/reservationsFromGuests",href:"#"}},[t._v(" Reservations")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/apartmentRegistration",href:"#"}},[t._v("Register apartment")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/guests",href:"#"}},[t._v("My guests")]),a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:t.logout}},[t._v("Logout")])],1)])]):t._e(),"ADMINISTRATOR"===t.loggedUserRole?a("li",[a("div",{staticClass:"dropdown",staticStyle:{"margin-right":"50px"}},[a("button",{staticClass:"btn btn-info dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton3","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v(" Profile ")]),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton2"}},[a("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("My account")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/Users",href:"#"}},[t._v("Users")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/apartments",href:"#"}},[t._v("Apartments")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/AllReservations",href:"#"}},[t._v("Reservations")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/AllAmenities",href:"#"}},[t._v("Amenities")]),a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:t.logout}},[t._v("Logout")])],1)])]):t._e()])])]),a("header",{staticClass:"masthead"},[a("div",{staticClass:"container h-100"},[a("router-view")],1)])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"navbar-brand js-scroll-trigger",attrs:{href:""}},[a("img",{staticStyle:{width:"200px",height:"50px"},attrs:{src:"logo.png",alt:""}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],i=(a("1157"),a("0deb"),a("f9e3"),a("8c4f")),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{staticClass:"form-style-9",on:{submit:function(e){return e.preventDefault(),t.showData(e)}}},[a("ul",[a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"field-style field-full align-none",attrs:{name:"username",placeholder:"Username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"field-style field-full align-none",attrs:{type:"password",name:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._m(0)])]),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.showSnackbar1,"md-persistent":""},on:{"update:mdActive":function(e){t.showSnackbar1=e},"update:md-active":function(e){t.showSnackbar1=e}}},[a("span",[t._v("Username or password can't be empty.")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.showSnackbar=!1}}},[t._v("Retry")])],1),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.showSnackbar2,"md-persistent":""},on:{"update:mdActive":function(e){t.showSnackbar2=e},"update:md-active":function(e){t.showSnackbar2=e}}},[a("span",[t._v("There is no user with that username and password")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.showSnackbar=!1}}},[t._v("Retry")])],1),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.showSnackbar3,"md-persistent":""},on:{"update:mdActive":function(e){t.showSnackbar3=e},"update:md-active":function(e){t.showSnackbar3=e}}},[a("span",[t._v("Server error.")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.showSnackbar=!1}}},[t._v("Retry")])],1)],1)},l=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("input",{attrs:{type:"submit",value:"Login"}})])}],c=a("9c30"),d=(a("51de"),a("e094"),a("bc3a")),u=a.n(d),m=u.a.create({baseURL:"/PocetniREST/rest",headers:{"Content-type":"application/json"}});s["default"].use(c["MdSnackbar"]),s["default"].use(c["MdButton"]);var p={name:"Login.vue",data:function(){return{username:"",password:"",showSnackbar1:!1,showSnackbar2:!1,showSnackbar3:!1,position:"center",duration:3e3,loggedUser:"",loggedUserRole:""}},mounted:function(){var t="",e="";null===localStorage.getItem("loggedUser")?localStorage.setItem("loggedUser",JSON.stringify(t)):this.loggedUser=JSON.parse(localStorage.getItem("loggedUser")),null===localStorage.getItem("loggedUserRole")?localStorage.setItem("loggedUserRole",JSON.stringify(e)):this.loggedUserRole=JSON.parse(localStorage.getItem(e))},methods:{showData:function(){var t=this;""!==this.username&&""!==this.password?m.post("login",JSON.stringify({userName:this.username,password:this.password})).then((function(e){e.data?(t.loggedUser=e.data,t.loggedUserRole=t.loggedUser.userRole,t.sendToParrent(),t.sendUserToParrent(),t.$router.push("/")):t.showSnackbar2=!0})).catch((function(e){t.showSnackbar3=!0,console.log(e)})):this.showSnackbar1=!0},sendToParrent:function(){this.$root.$emit("messageToParent",this.loggedUserRole)},sendUserToParrent:function(){this.$root.$emit("loggedUser",this.loggedUser)}}},h=p,v=(a("b579"),a("2877")),f=Object(v["a"])(h,o,l,!1,null,"3020c28d",null),b=f.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{staticClass:"form-style-9",on:{submit:function(e){return e.preventDefault(),t.showData(e)}}},[a("ul",[a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"field-style field-full align-none",attrs:{name:"name",placeholder:"Name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.surname,expression:"surname"}],staticClass:"field-style field-full align-none",attrs:{name:"surname",placeholder:"Surname"},domProps:{value:t.surname},on:{input:function(e){e.target.composing||(t.surname=e.target.value)}}})]),a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"field-style field-full align-none",attrs:{name:"username",placeholder:"Username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"field-style field-full align-none",attrs:{type:"password",name:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("li",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.controlpw,expression:"controlpw"}],staticClass:"field-style field-full align-none",attrs:{type:"password",name:"password",placeholder:"Re-type password"},domProps:{value:t.controlpw},on:{input:function(e){e.target.composing||(t.controlpw=e.target.value)}}})]),a("li",[a("div",{staticClass:"rb-group"},[a("label",[t._v("Gender:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.gender,expression:"gender"}],staticClass:"rb-male",staticStyle:{alignment:"left"},attrs:{type:"radio",id:"one",value:"MALE"},domProps:{checked:t._q(t.gender,"MALE")},on:{change:function(e){t.gender="MALE"}}}),a("label",{staticClass:"rb-label",attrs:{for:"one"}},[t._v("Male")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.gender,expression:"gender"}],attrs:{type:"radio",id:"two",value:"FEMALE"},domProps:{checked:t._q(t.gender,"FEMALE")},on:{change:function(e){t.gender="FEMALE"}}}),a("label",{staticClass:"rb-label",attrs:{for:"two"}},[t._v("Female")])])]),t.showValidation1?a("li",[a("span",{staticStyle:{color:"red"}},[t._v("None of the fields can remain empty.")])]):t._e(),t.showValidation2?a("li",[a("span",{staticStyle:{color:"red"}},[t._v("Passwords needs to be at least 6 characters long.")])]):t._e(),t._m(0)])]),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.showSnackbar1,"md-persistent":""},on:{"update:mdActive":function(e){t.showSnackbar1=e},"update:md-active":function(e){t.showSnackbar1=e}}},[a("span",[t._v("You registered successfully!")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.showSnackbar1=!1}}},[t._v("Ok")])],1),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.showSnackbar2,"md-persistent":""},on:{"update:mdActive":function(e){t.showSnackbar2=e},"update:md-active":function(e){t.showSnackbar2=e}}},[a("span",[t._v("Username: "+t._s(this.username)+" is already taken!")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.showSnackbar2=!1}}},[t._v("Ok")])],1),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.invalidFieldsSnackbar,"md-persistent":""},on:{"update:mdActive":function(e){t.invalidFieldsSnackbar=e},"update:md-active":function(e){t.invalidFieldsSnackbar=e}}},[a("span",[t._v("None of the fields can remain empty")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.invalidFieldsSnackbar=!1}}},[t._v("Close")])],1),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.passwordsNotMatchingSnackbar,"md-persistent":""},on:{"update:mdActive":function(e){t.passwordsNotMatchingSnackbar=e},"update:md-active":function(e){t.passwordsNotMatchingSnackbar=e}}},[a("span",[t._v("Passwords aren't matching")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.passwordsNotMatchingSnackbar=!1}}},[t._v("Close")])],1),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.genderNotSelectedSnackbar,"md-persistent":""},on:{"update:mdActive":function(e){t.genderNotSelectedSnackbar=e},"update:md-active":function(e){t.genderNotSelectedSnackbar=e}}},[a("span",[t._v("Gender must be specified")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.genderNotSelectedSnackbar=!1}}},[t._v("Close")])],1)],1)},w=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("input",{attrs:{type:"submit",value:"Register"}})])}];a("b0c0");s["default"].use(c["MdSnackbar"]),s["default"].use(c["MdButton"]);var _={name:"Register.vue",data:function(){return{showValidation1:"",showValidation2:"",username:"",password:"",controlpw:"",name:"",surname:"",gender:"",showSnackbar1:!1,showSnackbar2:!1,position:"center",duration:3e3,invalidFieldsSnackbar:!1,passwordsNotMatchingSnackbar:!1,genderNotSelectedSnackbar:!1}},methods:{showData:function(){var t=this;""===this.username||""===this.password||""===this.name||""===this.surname||""===this.gender?(this.showValidation1=!0,this.invalidFieldsSnackbar=!0):this.showValidation1=!1,this.password.length<=5?this.showValidation2=!0:(this.showValidation2=!1,this.password===this.controlpw?(this.showValidation1=!1,this.showValidation2=!1,m.post("/Register",JSON.stringify({userName:this.username,name:this.name,surname:this.surname,password:this.password,userGender:this.gender})).then((function(e){e.data?t.showSnackbar1=!0:t.showSnackbar2=!0}))):this.passwordsNotMatchingSnackbar=!0)}}},y=_,C=(a("fd2d"),Object(v["a"])(y,g,w,!1,null,"457b175f",null)),S=C.exports,k=(a("619b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"background-color":"white !important",width:"90%","margin-top":"5%","margin-left":"5%"}},[a("div",{staticClass:"row",staticStyle:{padding:"20px"}},[a("div",{staticClass:"form-group col-sm-4"},[a("label",{attrs:{for:"exampleFormControlSelect1"}},[t._v("User role")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedUserRole,expression:"selectedUserRole"}],staticClass:"form-control",attrs:{id:"exampleFormControlSelect1"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedUserRole=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"all"}},[t._v("All")]),a("option",{attrs:{value:"administrator"}},[t._v("Administrator")]),a("option",{attrs:{value:"host"}},[t._v("Host")]),a("option",{attrs:{value:"guest"}},[t._v("Guest")])])]),a("div",{staticClass:"form-group col-sm-4"},[a("label",{attrs:{for:"exampleFormControlSelect2"}},[t._v("User gender")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedGender,expression:"selectedGender"}],staticClass:"form-control",attrs:{id:"exampleFormControlSelect2"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedGender=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"all"}},[t._v("All")]),a("option",{attrs:{value:"male"}},[t._v("Male")]),a("option",{attrs:{value:"female"}},[t._v("Female")])])]),a("div",{staticClass:"form-group col-sm-4"},[a("button",{staticClass:"btn btn-info",staticStyle:{"margin-top":"30px"},on:{click:function(e){return t.filterUsers()}}},[t._v("Filter")])])]),a("md-table",{staticClass:"md-card md-fixed-header",staticStyle:{padding:"20px"},attrs:{"md-sort":"name","md-sort-order":"asc"},scopedSlots:t._u([{key:"md-table-row",fn:function(e){var s=e.item;return a("md-table-row",{},[a("md-table-cell",{attrs:{"md-label":"Username","md-sort-by":"userName"}},[t._v(t._s(s.userName))]),a("md-table-cell",{attrs:{"md-label":"Name","md-sort-by":"name"}},[t._v(t._s(s.name)+" "+t._s(s.surname))]),a("md-table-cell",{attrs:{"md-label":"User role","md-sort-by":"userRole"}},[t._v(t._s(s.userRole))]),a("md-table-cell",{attrs:{"md-label":"Gender","md-sort-by":"userGender"}},[t._v(t._s(s.userGender))])],1)}}]),model:{value:t.searched,callback:function(e){t.searched=e},expression:"searched"}},[a("md-table-toolbar",[a("div",{staticClass:"md-toolbar-section-start"},[a("h2",{staticClass:"md-title"},[t._v("Users")])]),a("md-field",{staticClass:"md-toolbar-section-end",attrs:{"md-clearable":""}},[a("md-input",{attrs:{placeholder:"Search by name..."},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),a("md-table-empty-state",{attrs:{"md-label":"No users found","md-description":"No user found for this '"+t.search+"' query. Try a different search term."}})],1)],1)}),x=[],N=(a("4de4"),a("caad"),a("d3b7"),a("ac1f"),a("25f0"),a("2532"),a("841c"),function(t){return t.toString().toLowerCase()}),A=function(t,e){return e?t.filter((function(t){return N(t.name).includes(N(e))})):t};s["default"].use(c["MdTable"]),s["default"].use(c["MdCard"]),s["default"].use(c["MdField"]),s["default"].use(c["MdContent"]),s["default"].use(c["MdEmptyState"]),s["default"].use(c["MdRipple"]);var R={name:"UsersTable",data:function(){return{search:null,searched:[],users:[],selectedUserRole:"all",selectedGender:"all"}},methods:{searchOnTable:function(){this.searched=A(this.users,this.search)},filterUsers:function(){var t=this;"all"===this.selectedUserRole&&"all"===this.selectedGender?m.get("User/getUsers").then((function(e){t.users=e.data,t.searched=t.users})):m.post("User/FilterUsers",JSON.stringify({userRole:this.selectedUserRole,userGender:this.selectedGender})).then((function(e){t.users=e.data,t.searched=t.users}))}},created:function(){this.searched=this.users},mounted:function(){var t=this;m.get("User/getUsers").then((function(e){t.users=e.data,t.searched=t.users}))}},U=R,O=(a("e431"),Object(v["a"])(U,k,x,!1,null,"60a648c9",null)),P=O.exports,T=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},D=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row h-100 align-items-center justify-content-center text-center"},[a("div",{staticClass:"col-lg-10 align-self-end"},[a("h1",{staticClass:"text-uppercase text-white font-weight-bold"},[t._v("At Last, This Is What Youâ€™ve Been Searching For")]),a("hr",{staticClass:"divider my-4"})]),a("div",{staticClass:"col-lg-8 align-self-baseline"},[a("p",{staticClass:"text-white-75 font-weight-light mb-5"},[t._v("Unparalleled Views. Exceptional Style. Nonstop Luxury. Great Experiences Are Just Around The Corner. Check out what we offer!")])])])}],E={name:"Home.vue"},M=E,I=Object(v["a"])(M,T,D,!1,null,"e3f50366",null),F=I.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"90%","margin-top":"5%","margin-left":"5%"}},[a("md-table",{staticClass:"md-card md-fixed-header",staticStyle:{padding:"20px"},attrs:{"md-sort":"name","md-sort-order":"asc"},scopedSlots:t._u([{key:"md-table-row",fn:function(e){var s=e.item;return a("md-table-row",{},[a("md-table-cell",{attrs:{"md-label":"Host username","md-sort-by":"hostUserName"}},[t._v(t._s(s.hostUserName))]),a("md-table-cell",{attrs:{"md-label":"Price per night","md-sort-by":"pricePerNight"}},[t._v(t._s(s.pricePerNight))]),a("md-table-cell",{attrs:{"md-label":"Apartment type","md-sort-by":"apartmentType"}},[t._v(t._s(s.apartmentType))]),t.isAdmin||t.isHost?a("md-table-cell",{attrs:{"md-label":"Activity status","md-sort-by":"activityStatus"}},[t._v(t._s(s.activityStatus))]):t._e(),a("md-table-cell",[a("button",{staticClass:"btn btn-info"},[t._v("Details")])]),t.isAdmin||t.isHost?a("md-table-cell",[a("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.deleteApartment(s.id,s)}}},[t._v("Delete")])]):t._e(),t.isGuest?a("md-table-cell",[a("button",{staticClass:"btn btn-success",on:{click:function(e){return t.showDialog(s,s.startDates,s.endDates)}}},[t._v("Reserve")])]):t._e(),t.isHost&&"Active"===s.activityStatus?a("md-table-cell",[a("button",{staticClass:"btn btn-warning",on:{click:function(e){return t.deactivateApartment(s)}}},[t._v("Deactivate")])]):t._e(),t.isHost&&"Active"!==s.activityStatus?a("md-table-cell",[a("button",{staticClass:"btn btn-warning",on:{click:function(e){return t.activateApartment(s)}}},[t._v("Activate")])]):t._e()],1)}}]),model:{value:t.searched,callback:function(e){t.searched=e},expression:"searched"}},[a("md-table-toolbar",[t.isHost?t._e():a("div",{staticClass:"md-toolbar-section-start"},[a("h2",{staticClass:"md-title"},[t._v("Apartments")])]),t.isHost&&t.showInactiveBool?a("div",{staticClass:"md-toolbar-section-start"},[a("h2",{staticClass:"md-title"},[t._v("Active apartments")])]):t._e(),t.isHost&&t.showActiveBool?a("div",{staticClass:"md-toolbar-section-start"},[a("h2",{staticClass:"md-title"},[t._v("Deactivated apartments")])]):t._e(),t.showInactiveBool&&t.isHost?a("md-button",{on:{click:t.showInactive}},[t._v(" Show inactive ")]):t._e(),t.showActiveBool&&t.isHost?a("md-button",{on:{click:t.showActive}},[t._v(" Show active ")]):t._e(),t.isHost?t._e():a("md-field",{staticClass:"md-toolbar-section-end",attrs:{"md-clearable":""}},[a("md-input",{attrs:{placeholder:"Search by host username"},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),a("md-table-empty-state",{attrs:{"md-label":"No apartments found","md-description":"No apartments found for this '"+t.search+"' query. Try a different search term."}})],1),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.failedDelete,"md-persistent":""},on:{"update:mdActive":function(e){t.failedDelete=e},"update:md-active":function(e){t.failedDelete=e}}},[a("span",[t._v("Problem while deleting apartment, try reloading the page")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.failedDelete=!1}}},[t._v("Close")])],1),a("modal",{attrs:{height:550,width:400,name:"reservationDialog"}},[a("h2",{staticStyle:{margin:"30px"}},[t._v("Fill in the information")]),a("div",{staticStyle:{margin:"30px"}},[a("div",[a("label",[t._v("Select starting date")]),a("date-picker",{attrs:{color:"blue",attributes:t.attributes,"available-dates":t.availableDates},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),a("div",{staticStyle:{"margin-top":"20px"}},[a("label",[t._v("How many days will you stay?")]),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.numberOfDays,expression:"numberOfDays"}],staticStyle:{width:"340px"},attrs:{type:"number",min:"0"},domProps:{value:t.numberOfDays},on:{change:t.calculateBill,input:function(e){e.target.composing||(t.numberOfDays=e.target.value)}}})]),a("div",[a("label",[t._v("Additional comments:")]),a("br"),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.additionalComment,expression:"additionalComment"}],attrs:{rows:"5",cols:"44"},domProps:{value:t.additionalComment},on:{input:function(e){e.target.composing||(t.additionalComment=e.target.value)}}})]),a("hr"),a("div",{staticStyle:{"margin-top":"20px"}},[a("label",{staticStyle:{"font-size":"20px"}},[t._v("Your total is: "),a("b",[t._v(t._s(t.bill))])])]),a("div",{staticStyle:{"margin-top":"30px","text-align":"right"}},[a("button",{staticClass:"btn btn-dark",staticStyle:{"margin-right":"10px"},on:{click:t.cancelReservationCreation}},[t._v("Cancel")]),a("button",{staticClass:"btn btn-success",on:{click:t.registerReservation}},[t._v("Reserve")])])])])],1)},$=[],L=(a("4160"),a("fb6a"),a("a434"),a("5319"),a("159b"),a("bf19"),a("43f9")),H=a.n(L),J=a("1881"),j=a.n(J),B=a("404b"),q=a.n(B),V=a("5887"),Y=a.n(V),z=(a("43f4"),function(t){return t.toString().toLowerCase()}),W=function(t,e){return e?t.filter((function(t){return z(t.hostUserName).includes(z(e))})):t};s["default"].use(c["MdTable"]),s["default"].use(c["MdCard"]),s["default"].use(c["MdField"]),s["default"].use(c["MdContent"]),s["default"].use(c["MdEmptyState"]),s["default"].use(c["MdRipple"]),s["default"].use(j.a),s["default"].use(H.a),s["default"].use(Y.a,{componentPrefix:"vc"}),s["default"].component("date-picker",q.a);var K={name:"ApartmentList",data:function(){return{search:null,searched:[],apartments:[],isAdmin:!1,isHost:!1,isGuest:!1,failedDelete:!1,duration:3e3,position:"center",showReservationDialog:!1,selectedApartment:"",date:"",numberOfDays:0,bill:0,additionalComment:"",apartmentReservations:[],occupiedDates:[],attributes:[],fallbackApartments:[],availableDates:[],showActiveBool:!1,showInactiveBool:!0}},components:{},methods:{cancelReservationCreation:function(){this.$modal.hide("reservationDialog"),this.clearLists()},clearLists:function(){this.attributes=[],this.occupiedDates=[],this.availableDates=[]},searchOnTable:function(){this.searched=W(this.apartments,this.search)},deleteApartment:function(t,e){var a=this;m.get("apartments/deleteApartment/".concat(t)).then((function(s){!0===s.data?(a.apartments.splice(e,1),a.searched.forEach((function(e){e.id===t&&a.searched.splice(e,1)})),a.fallbackApartments.forEach((function(e){e.id===t&&a.fallbackApartments.splice(e,1)}))):a.failedDelete=!0}))},showDialog:function(t,e,a){var s=this;console.log(t.id),m.get("Reservation/getActiveReservationsByApartment/".concat(t.id)).then((function(r){s.selectedApartment=t,s.apartmentReservations=r.data,console.log(s.attributes),s.apartmentReservations.forEach((function(t){console.log(t.startingDate),s.occupiedDates.push({start:t.startingDate,span:t.rentalDuration})})),s.attributes.push({highlight:!0,dates:s.occupiedDates});for(var n=0;n<e.length;n++)s.availableDates.push({start:e[n],end:a[n]});console.log(s.attributes),s.$modal.show("reservationDialog")}))},hideDialog:function(){this.date="",this.bill=0,this.additionalComment="",this.numberOfDays=0,this.occupiedDates=[],this.attributes=[],this.$modal.hide("reservationDialog")},showActive:function(){var t=this;console.log("showing active"),this.showActiveBool=!1,this.showInactiveBool=!0,this.searched=[],this.fallbackApartments.forEach((function(e){"Active"===e.activityStatus&&t.searched.push(e)}))},showInactive:function(){var t=this;console.log("showing inactive"),this.showActiveBool=!0,this.showInactiveBool=!1,this.searched=[],this.fallbackApartments.forEach((function(e){"Active"!==e.activityStatus&&t.searched.push(e)}))},date_function:function(){var t=new Date;console.log(t);var e=(new Date).toJSON().slice(0,10).replace(/-/g,"/");console.log(e)},calculateBill:function(){this.bill=this.selectedApartment.pricePerNight*this.numberOfDays,console.log("This is the bill:"+this.bill)},registerReservation:function(){var t=this,e=JSON.parse(localStorage.getItem("loggedUser"));console.log("Selected date: "+this.date),m.post("Reservation/registerReservation",JSON.stringify({id:"",apartmentId:this.selectedApartment.id,startingDate:this.date,rentalDuration:this.numberOfDays,fullPrice:this.bill,optionalMessage:this.additionalComment,guestId:e.id,deleted:!1})).then((function(e){console.log(e.data),t.datesForRent=[],t.attributes=[],t.clearLists(),t.hideDialog()}))},activateApartment:function(t){var e=this;m.get("apartments/activateApartment/".concat(t.id)).then((function(a){a.data&&(e.searched.splice(t,1),e.apartments.forEach((function(e){t.id===e.id&&(e.activityStatus="Active")})),e.fallbackApartments.forEach((function(e){t.id===e.id&&(e.activityStatus="Active")})),t.activityStatus="Active")}))},deactivateApartment:function(t){var e=this;m.get("apartments/deactivateApartment/".concat(t.id)).then((function(a){a.data&&(e.searched.splice(t,1),e.apartments.forEach((function(e){t.id===e.id&&(e.activityStatus="Not active")})),e.fallbackApartments.forEach((function(e){t.id===e.id&&(e.activityStatus="Not active")})),t.activityStatus="Not active")}))}},created:function(){this.searched=this.apartments,this.isAdmin="ADMINISTRATOR"===JSON.parse(localStorage.getItem("loggedUserRole")),this.isHost="HOST"===JSON.parse(localStorage.getItem("loggedUserRole")),this.isGuest="GUEST"===JSON.parse(localStorage.getItem("loggedUserRole"))},mounted:function(){var t=this;if(this.date_function(),null===localStorage.getItem("loggedUserRole")||"GUEST"===JSON.parse(localStorage.getItem("loggedUserRole")))m.get("apartments/ActiveApartments").then((function(e){t.apartments=e.data,t.searched=t.apartments,console.log(e.data)}));else{console.log(localStorage.getItem("loggedUserRole"));var e=JSON.parse(localStorage.getItem("loggedUserRole"));if("HOST"===e){var a=JSON.parse(localStorage.getItem("loggedUser"));m.get("apartments/HostApartments/".concat(a.id)).then((function(e){t.apartments=e.data,t.searched=t.apartments,t.fallbackApartments=t.apartments,t.showActive()}))}else"ADMINISTRATOR"===e&&m.get("apartments/Apartments").then((function(e){t.apartments=e.data,t.searched=t.apartments,console.log(e.data)}))}}},Q=K,X=Object(v["a"])(Q,G,$,!1,null,"7d893e16",null),Z=X.exports,tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"90%","margin-top":"5%","margin-left":"5%"}},[a("md-table",{staticClass:"md-card md-fixed-header",staticStyle:{padding:"20px"},attrs:{"md-sort":"name","md-sort-order":"asc"},scopedSlots:t._u([{key:"md-table-row",fn:function(e){var s=e.item;return a("md-table-row",{},[a("md-table-cell",{attrs:{"md-label":"Apartment type","md-sort-by":"userName"}},[t._v(t._s(s.apartmentType))]),a("md-table-cell",{attrs:{"md-label":"Location","md-sort-by":"name"}},[t._v(t._s(s.location.address.country)+", "+t._s(s.location.address.city))]),a("md-table-cell",{attrs:{"md-label":"Host username","md-sort-by":"userRole"}},[t._v(t._s(s.hostUserName))]),a("md-table-cell",{attrs:{"md-label":"Guest username","md-sort-by":"userGender"}},[t._v(t._s(s.guestUserName))]),a("md-table-cell",{attrs:{"md-label":"Starting date","md-sort-by":"userGender"}},[t._v(t._s(s.startingDate))]),a("md-table-cell",{attrs:{"md-label":"Rental duration","md-sort-by":"userGender"}},[t._v(t._s(s.rentalDuration))]),a("md-table-cell",{attrs:{"md-label":"Status","md-sort-by":"userGender"}},[t._v(t._s(s.reservationStatus))])],1)}}]),model:{value:t.searched,callback:function(e){t.searched=e},expression:"searched"}},[a("md-table-toolbar",[a("div",{staticClass:"md-toolbar-section-start"},[a("h2",{staticClass:"md-title"},[t._v("Reservations")])]),a("md-field",{staticClass:"md-toolbar-section-end",staticStyle:{"margin-right":"15px"},attrs:{"md-clearable":""}},[a("md-input",{attrs:{placeholder:"Search by host username..."},on:{input:t.searchOnTable1},model:{value:t.search1,callback:function(e){t.search1=e},expression:"search1"}})],1),a("md-field",{staticClass:"md-toolbar-section-end",attrs:{"md-clearable":""}},[a("md-input",{attrs:{placeholder:"Search by guest username..."},on:{input:t.searchOnTable2},model:{value:t.search2,callback:function(e){t.search2=e},expression:"search2"}})],1)],1),a("md-table-empty-state",{attrs:{"md-label":"No reservations found","md-description":"No reservations found for this query. Try a different search term."}})],1)],1)},et=[];s["default"].use(c["MdTable"]),s["default"].use(c["MdCard"]),s["default"].use(c["MdField"]),s["default"].use(c["MdContent"]),s["default"].use(c["MdEmptyState"]),s["default"].use(c["MdRipple"]);var at=function(t){return t.toString().toLowerCase()},st=function(t,e){return e?t.filter((function(t){return at(t.hostUserName).includes(at(e))})):t},rt=function(t,e){return e?t.filter((function(t){return at(t.guestUserName).includes(at(e))})):t},nt={name:"ReservationsForAdmin",data:function(){return{search1:null,search2:null,searched:[],reservations:[]}},methods:{searchOnTable1:function(){this.searched=st(this.reservations,this.search1)},searchOnTable2:function(){this.searched=rt(this.reservations,this.search2)}},created:function(){this.searched=this.reservations},mounted:function(){var t=this;m.get("Reservation/").then((function(e){t.reservations=e.data,t.searched=t.reservations}))}},it=nt,ot=(a("647f"),Object(v["a"])(it,tt,et,!1,null,"48d9cb76",null)),lt=ot.exports,ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"90%","margin-top":"5%","margin-left":"5%"}},[a("md-table",{staticClass:"md-card md-fixed-header",staticStyle:{padding:"20px"},attrs:{"md-sort":"name","md-sort-order":"asc"},scopedSlots:t._u([{key:"md-table-row",fn:function(e){var s=e.item;return a("md-table-row",{},[a("md-table-cell",{attrs:{"md-label":"ID","md-sort-by":"id"}},[t._v(t._s(s.id))]),a("md-table-cell",{attrs:{"md-label":"Caption","md-sort-by":"caption"}},[t._v(t._s(s.caption))]),a("md-table-cell",{attrs:{"md-label":"Description","md-sort-by":"description"}},[t._v(t._s(s.description))]),a("md-table-cell",{attrs:{"md-label":"Type","md-sort-by":"type"}},[t._v(t._s(s.type))])],1)}}]),model:{value:t.searched,callback:function(e){t.searched=e},expression:"searched"}},[a("md-table-toolbar",[a("div",{staticClass:"md-toolbar-section-start"},[a("h2",{staticClass:"md-title"},[t._v("Amenities")])]),a("md-field",{staticClass:"md-toolbar-section-end",attrs:{"md-clearable":""}},[a("md-input",{attrs:{placeholder:"Search by caption..."},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),a("md-table-empty-state",{attrs:{"md-label":"No amenities found","md-description":"No amenity found for this '"+t.search+"' query. Try a different search term."}})],1)],1)},dt=[],ut=function(t){return t.toString().toLowerCase()},mt=function(t,e){return e?t.filter((function(t){return ut(t.caption).includes(ut(e))})):t};s["default"].use(c["MdTable"]),s["default"].use(c["MdCard"]),s["default"].use(c["MdField"]),s["default"].use(c["MdContent"]),s["default"].use(c["MdEmptyState"]),s["default"].use(c["MdRipple"]);var pt={name:"AmenitiesForAdmin",data:function(){return{search:null,searched:[],amenities:[]}},methods:{searchOnTable:function(){this.searched=mt(this.amenities,this.search)}},created:function(){this.searched=this.amenities},mounted:function(){var t=this;m.get("Amenity").then((function(e){t.amenities=e.data,t.searched=t.amenities}))}},ht=pt,vt=Object(v["a"])(ht,ct,dt,!1,null,"f1e6de74",null),ft=vt.exports,bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",staticStyle:{"margin-top":"2%","background-color":"white !important",padding:"50px"}},[a("h2",[t._v("Change your password")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4"},[a("label",[t._v("Current Password")]),a("div",{staticClass:"form-group pass_show"},[a("span",{staticClass:"ptxt",on:{click:t.showPassword1}},[t._v(t._s(this.passwordElements[0].text))]),"checkbox"===this.passwordElements[0].type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{placeholder:"Current Password",type:"checkbox"},domProps:{checked:Array.isArray(t.password)?t._i(t.password,null)>-1:t.password},on:{change:function(e){var a=t.password,s=e.target,r=!!s.checked;if(Array.isArray(a)){var n=null,i=t._i(a,n);s.checked?i<0&&(t.password=a.concat([n])):i>-1&&(t.password=a.slice(0,i).concat(a.slice(i+1)))}else t.password=r}}}):"radio"===this.passwordElements[0].type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{placeholder:"Current Password",type:"radio"},domProps:{checked:t._q(t.password,null)},on:{change:function(e){t.password=null}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{placeholder:"Current Password",type:this.passwordElements[0].type},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("label",[t._v("New Password")]),a("div",{staticClass:"form-group pass_show"},[a("span",{staticClass:"ptxt",on:{click:t.showPassword2}},[t._v(t._s(this.passwordElements[1].text))]),"checkbox"===this.passwordElements[1].type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.newPassword,expression:"newPassword"}],staticClass:"form-control",attrs:{placeholder:"New Password",type:"checkbox"},domProps:{checked:Array.isArray(t.newPassword)?t._i(t.newPassword,null)>-1:t.newPassword},on:{change:function(e){var a=t.newPassword,s=e.target,r=!!s.checked;if(Array.isArray(a)){var n=null,i=t._i(a,n);s.checked?i<0&&(t.newPassword=a.concat([n])):i>-1&&(t.newPassword=a.slice(0,i).concat(a.slice(i+1)))}else t.newPassword=r}}}):"radio"===this.passwordElements[1].type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.newPassword,expression:"newPassword"}],staticClass:"form-control",attrs:{placeholder:"New Password",type:"radio"},domProps:{checked:t._q(t.newPassword,null)},on:{change:function(e){t.newPassword=null}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.newPassword,expression:"newPassword"}],staticClass:"form-control",attrs:{placeholder:"New Password",type:this.passwordElements[1].type},domProps:{value:t.newPassword},on:{input:function(e){e.target.composing||(t.newPassword=e.target.value)}}})]),a("label",[t._v("Confirm Password")]),a("div",{staticClass:"form-group pass_show"},[a("span",{staticClass:"ptxt",on:{click:t.showPassword3}},[t._v(t._s(this.passwordElements[2].text))]),"checkbox"===this.passwordElements[2].type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordConfirm,expression:"passwordConfirm"}],staticClass:"form-control",attrs:{placeholder:"Confirm Password",type:"checkbox"},domProps:{checked:Array.isArray(t.passwordConfirm)?t._i(t.passwordConfirm,null)>-1:t.passwordConfirm},on:{change:function(e){var a=t.passwordConfirm,s=e.target,r=!!s.checked;if(Array.isArray(a)){var n=null,i=t._i(a,n);s.checked?i<0&&(t.passwordConfirm=a.concat([n])):i>-1&&(t.passwordConfirm=a.slice(0,i).concat(a.slice(i+1)))}else t.passwordConfirm=r}}}):"radio"===this.passwordElements[2].type?a("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordConfirm,expression:"passwordConfirm"}],staticClass:"form-control",attrs:{placeholder:"Confirm Password",type:"radio"},domProps:{checked:t._q(t.passwordConfirm,null)},on:{change:function(e){t.passwordConfirm=null}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordConfirm,expression:"passwordConfirm"}],staticClass:"form-control",attrs:{placeholder:"Confirm Password",type:this.passwordElements[2].type},domProps:{value:t.passwordConfirm},on:{input:function(e){e.target.composing||(t.passwordConfirm=e.target.value)}}})]),a("button",{staticClass:"btn btn-info",staticStyle:{float:"right"},attrs:{type:"button"},on:{click:t.checkPassword}},[t._v("Change password")])])]),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.showSnackbar1,"md-persistent":""},on:{"update:mdActive":function(e){t.showSnackbar1=e},"update:md-active":function(e){t.showSnackbar1=e}}},[a("span",[t._v("Passwords do not match!")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.showSnackbar1=!1}}},[t._v("Retry")])],1),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.showSnackbar2,"md-persistent":""},on:{"update:mdActive":function(e){t.showSnackbar2=e},"update:md-active":function(e){t.showSnackbar2=e}}},[a("span",[t._v("You successfully changed your password!")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.showSnackbar2=!1}}},[t._v("Close")])],1)],1)},gt=[];s["default"].use(c["MdSnackbar"]),s["default"].use(c["MdButton"]);var wt={name:"ChangePassword",data:function(){return{userName:"",password:"",newPassword:"",passwordConfirm:"",showSnackbar1:!1,showSnackbar2:!1,position:"center",duration:3e3,passwordElements:[{type:"password",text:"Show"},{type:"password",text:"Show"},{type:"password",text:"Show"}]}},methods:{checkPassword:function(){var t=this;if(this.newPassword!==this.passwordConfirm)this.showSnackbar1=!0;else{var e=JSON.parse(localStorage.getItem("loggedUser"));this.userName=e.userName,m.put("/User/changePassword",JSON.stringify({userName:this.userName,password:this.password,newPassword:this.newPassword})).then((function(e){e.data&&(t.showSnackbar2=!0)}))}},showPassword1:function(){"Show"===this.passwordElements[0].text?(this.passwordElements[0].type="text",this.passwordElements[0].text="Hide"):(this.passwordElements[0].type="password",this.passwordElements[0].text="Show")},showPassword2:function(){"Show"===this.passwordElements[1].text?(this.passwordElements[1].type="text",this.passwordElements[1].text="Hide"):(this.passwordElements[1].type="password",this.passwordElements[1].text="Show")},showPassword3:function(){"Show"===this.passwordElements[2].text?(this.passwordElements[2].type="text",this.passwordElements[2].text="Hide"):(this.passwordElements[2].type="password",this.passwordElements[2].text="Show")}}},_t=wt,yt=(a("93fd"),Object(v["a"])(_t,bt,gt,!1,null,"676806f6",null)),Ct=yt.exports,St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",staticStyle:{"margin-top":"2%","background-color":"white !important",padding:"50px"}},[a("h2",[t._v("Details")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[t._m(0),t._m(1),t._m(2),t._m(3),"HOST"==t.loggedUserRole?a("div",{staticClass:"row"},[a("label",[t._v("Available apartments: ")])]):t._e(),"HOST"==t.loggedUserRole?a("div",{staticClass:"row"},[a("label",[t._v("Rented apartments: ")])]):t._e(),"GUEST"==t.loggedUserRole?a("div",{staticClass:"row"},[a("label",[t._v("Number of made reservations: ")])]):t._e()]),a("div",{staticClass:"col-sm-3"},[a("div",{staticClass:"row"},[a("label",[t._v(t._s(t.userDetails.userName))])]),a("div",{staticClass:"row"},[a("label",[t._v(t._s(t.userDetails.name))])]),a("div",{staticClass:"row"},[a("label",[t._v(t._s(t.userDetails.surname))])]),a("div",{staticClass:"row"},[a("label",[t._v(t._s(t.userDetails.userGender))])]),"HOST"==t.loggedUserRole?a("div",{staticClass:"row"},[a("label",[t._v(t._s(t.userDetails.availableApartments))])]):t._e(),"HOST"==t.loggedUserRole?a("div",{staticClass:"row"},[a("label",[t._v(t._s(t.userDetails.rentedApartments))])]):t._e(),"GUEST"==t.loggedUserRole?a("div",{staticClass:"row"},[a("label",[t._v(t._s(t.userDetails.numberOfReservationsMade))])]):t._e()]),a("div",{staticClass:"col-sm-3"},[a("div",{staticClass:"row"},[a("router-link",{staticClass:"btn btn-info",attrs:{tag:"button",to:"/ChangeDetails",type:"button"}},[t._v("Change details")])],1),a("div",{staticClass:"row"},[a("router-link",{staticClass:"btn btn-info",attrs:{tag:"button",to:"/ChangePassword",type:"button"}},[t._v("Change password")])],1)])])])},kt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("label",[t._v("Username: ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("label",[t._v("Name: ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("label",[t._v("Surname: ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("label",[t._v("Gender: ")])])}],xt={name:"MyProfile",mounted:function(){var t=this;if(null!==localStorage.getItem("loggedUserRole")&&(this.loggedUserRole=JSON.parse(localStorage.getItem("loggedUserRole"))),null!==localStorage.getItem("loggedUserRole")){var e=JSON.parse(localStorage.getItem("loggedUser"));this.loggedUserName=e.userName}m.get("/User/UserDetails/"+this.loggedUserName).then((function(e){e.data&&(t.userDetails=e.data)}))},data:function(){return{loggedUserRole:"",userDetails:"",loggedUserName:""}},methods:{}},Nt=xt,At=(a("9348"),Object(v["a"])(Nt,St,kt,!1,null,"512147f8",null)),Rt=At.exports,Ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",staticStyle:{"margin-top":"2%","background-color":"white !important",width:"fit-content",padding:"50px"}},[a("h2",[t._v("Change user details")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4",staticStyle:{flex:"100%","max-width":"100%"}},[a("label",[t._v("Username")]),a("div",{staticClass:"form-group pass_show"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newUserName,expression:"newUserName"}],staticClass:"form-control",attrs:{placeholder:"Username"},domProps:{value:t.newUserName},on:{input:function(e){e.target.composing||(t.newUserName=e.target.value)}}})]),a("label",[t._v("Name")]),a("div",{staticClass:"form-group pass_show"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{placeholder:"Username"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),a("label",[t._v("Surname")]),a("div",{staticClass:"form-group pass_show"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.surname,expression:"surname"}],staticClass:"form-control",attrs:{placeholder:"Username"},domProps:{value:t.surname},on:{input:function(e){e.target.composing||(t.surname=e.target.value)}}})]),a("button",{staticClass:"btn btn-info",staticStyle:{float:"left"},attrs:{type:"button"},on:{click:t.changeDetails}},[t._v("Change details")]),a("router-link",{staticClass:"btn btn-dark",staticStyle:{float:"right"},attrs:{tag:"button",to:"/Profile",type:"button"}},[t._v("Cancel")])],1)]),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.showSnackbar1,"md-persistent":""},on:{"update:mdActive":function(e){t.showSnackbar1=e},"update:md-active":function(e){t.showSnackbar1=e}}},[a("span",[t._v("All fields are required!")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.showSnackbar1=!1}}},[t._v("Retry")])],1),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.showSnackbar2,"md-persistent":""},on:{"update:mdActive":function(e){t.showSnackbar2=e},"update:md-active":function(e){t.showSnackbar2=e}}},[a("span",[t._v("There is already a user with username: "+t._s(t.newUserName)+"!")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.showSnackbar2=!1}}},[t._v("Retry")])],1),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.showSnackbar3,"md-persistent":""},on:{"update:mdActive":function(e){t.showSnackbar3=e},"update:md-active":function(e){t.showSnackbar3=e}}},[a("span",[t._v("Changes saved successfully!")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.showSnackbar3=!1}}},[t._v("Close")])],1)],1)},Ot=[];s["default"].use(c["MdSnackbar"]),s["default"].use(c["MdButton"]);var Pt={name:"ChangeUserDetails",data:function(){return{user:null,previousUserName:"",newUserName:"",name:"",surname:"",password:"",showSnackbar1:!1,showSnackbar2:!1,showSnackbar3:!1,position:"center",duration:3e3}},methods:{changeDetails:function(){var t=this;""!==this.newUserName&&""!==this.name&&""!==this.surname?m.put("/User/changeUser",JSON.stringify({previousUserName:this.previousUserName,newUserName:this.newUserName,password:this.password,name:this.name,surname:this.surname})).then((function(e){e.data?t.showSnackbar3=!0:t.showSnackbar2=!0})):this.showSnackbar1=!0}},mounted:function(){null!==localStorage.getItem("loggedUserRole")&&(this.user=JSON.parse(localStorage.getItem("loggedUser")),this.previousUserName=this.user.userName,this.newUserName=this.user.userName,this.name=this.user.name,this.surname=this.user.surname,this.password=this.user.password)}},Tt=Pt,Dt=(a("d46a"),Object(v["a"])(Tt,Ut,Ot,!1,null,"0255687e",null)),Et=Dt.exports,Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"overflow-y":"auto",background:"white",width:"80%","margin-bottom":"20px","margin-left":"10%",height:"500px"}},[a("h3",[t._v("Enter apartment information")]),a("div",{staticClass:"column"},[a("div",{staticClass:"field"},[a("label",[t._v("Apartment type:")]),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.apartmentType,expression:"apartmentType"}],staticClass:"rb-male",staticStyle:{alignment:"left"},attrs:{type:"radio",id:"one",value:"apartment"},domProps:{checked:t._q(t.apartmentType,"apartment")},on:{change:function(e){t.apartmentType="apartment"}}}),a("label",{staticClass:"rb-label",attrs:{for:"one"}},[t._v("Apartment")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.apartmentType,expression:"apartmentType"}],attrs:{type:"radio",id:"two",value:"room"},domProps:{checked:t._q(t.apartmentType,"room")},on:{change:function(e){t.apartmentType="room"}}}),a("label",{staticClass:"rb-label",attrs:{for:"two"}},[t._v("Room")])]),a("div",{staticClass:"field"},[a("label",[t._v("Number of rooms:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.numberOfRooms,expression:"numberOfRooms"}],staticClass:"form-control",staticStyle:{width:"340px"},attrs:{type:"number",min:"1"},domProps:{value:t.numberOfRooms},on:{input:function(e){e.target.composing||(t.numberOfRooms=e.target.value)}}})]),a("div",{staticClass:"field"},[a("label",[t._v("Number of guests:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.numberOfGuests,expression:"numberOfGuests"}],staticClass:"form-control",staticStyle:{width:"340px"},attrs:{type:"number",min:"1"},domProps:{value:t.numberOfGuests},on:{input:function(e){e.target.composing||(t.numberOfGuests=e.target.value)}}})]),a("div",{staticClass:"field"},[a("label",[t._v("Country:")]),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.country,expression:"country"}],staticClass:"form-control",staticStyle:{width:"340px"},attrs:{type:"text"},domProps:{value:t.country},on:{input:function(e){e.target.composing||(t.country=e.target.value)}}}),a("label",[t._v("City:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.city,expression:"city"}],staticClass:"form-control",staticStyle:{width:"340px"},attrs:{type:"text"},domProps:{value:t.city},on:{input:function(e){e.target.composing||(t.city=e.target.value)}}}),a("label",[t._v("Street and number:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.streetAndNumber,expression:"streetAndNumber"}],staticClass:"form-control",staticStyle:{width:"340px"},attrs:{type:"text"},domProps:{value:t.streetAndNumber},on:{input:function(e){e.target.composing||(t.streetAndNumber=e.target.value)}}})])]),a("div",{staticClass:"column"},[a("div",{staticClass:"field"},[a("label",[t._v("Select available dates for rent:")]),a("br"),a("date-picker",{attrs:{mode:"range",color:"blue","disabled-dates":t.datesForRent},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}}),a("button",{staticClass:"btn btn-info",staticStyle:{"margin-top":"5px"},on:{click:t.saveDateForRent}},[t._v("Save date")])],1),a("div",{staticClass:"field"},[a("label",{staticStyle:{padding:"5px"}},[t._v("Upload pictures")]),a("input",{ref:"file",staticStyle:{padding:"5px"},attrs:{type:"file",multiple:"multiple"}})]),a("div",{staticClass:"field"},[a("label",[t._v("Price per night:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.pricePerNight,expression:"pricePerNight"}],staticClass:"form-control",staticStyle:{width:"340px"},attrs:{type:"number",min:"1"},domProps:{value:t.pricePerNight},on:{input:function(e){e.target.composing||(t.pricePerNight=e.target.value)}}})]),a("div",{staticClass:"field"},[a("div",{staticStyle:{float:"left"}},[a("label",[t._v("Check in time:")]),a("br"),a("time-picker",{model:{value:t.checkInTime,callback:function(e){t.checkInTime=e},expression:"checkInTime"}})],1),a("div",{staticStyle:{"margin-left":"20px",float:"left"}},[a("label",[t._v("Check out time:")]),a("br"),a("time-picker",{model:{value:t.checkOutTime,callback:function(e){t.checkOutTime=e},expression:"checkOutTime"}})],1),a("div",{staticStyle:{"padding-top":"10px"}},[a("label",{staticStyle:{"padding-top":"15px"}},[t._v("Select amenities(hover amenities for amenity details)")]),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchCriteria,expression:"searchCriteria"}],attrs:{placeholder:"Search amenities",type:"text"},domProps:{value:t.searchCriteria},on:{change:t.filterAmenities,input:function(e){e.target.composing||(t.searchCriteria=e.target.value)}}}),a("br"),a("br"),t._l(t.amenities,(function(e){return a("div",{key:e.item.id,staticStyle:{display:"inline","margin-right":"10px"}},[a("input",{attrs:{type:"checkbox"},domProps:{checked:e.checked},on:{change:function(a){return t.editAmenities(e)}}}),a("label",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"This is a tooltip ffs show up",expression:"'This is a tooltip ffs show up'"}],staticClass:"amenity-caption",staticStyle:{"margin-left":"3px"}},[t._v(t._s(e.item.caption))])])}))],2),a("button",{staticClass:"btn btn-success",staticStyle:{"margin-left":"320px"},on:{click:t.registerAmenity}},[t._v("Register")])])]),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.saved,"md-persistent":""},on:{"update:mdActive":function(e){t.saved=e},"update:md-active":function(e){t.saved=e}}},[a("span",[t._v("Apartment successfully registered!")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.saved=!1}}},[t._v("Close")])],1),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.notSaved,"md-persistent":""},on:{"update:mdActive":function(e){t.notSaved=e},"update:md-active":function(e){t.notSaved=e}}},[a("span",[t._v("There was an error saving the apartment, please re-enter information")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.notSaved=!1}}},[t._v("Close")])],1),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.apartmentTypeCheck,"md-persistent":""},on:{"update:mdActive":function(e){t.apartmentTypeCheck=e},"update:md-active":function(e){t.apartmentTypeCheck=e}}},[a("span",[t._v("You must select an apartment type")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.apartmentTypeCheck=!1}}},[t._v("Close")])],1),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.adressCheck,"md-persistent":""},on:{"update:mdActive":function(e){t.adressCheck=e},"update:md-active":function(e){t.adressCheck=e}}},[a("span",[t._v("You must enter the full adress of the apartment")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.adressCheck=!1}}},[t._v("Close")])],1),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.datesForRentCheck,"md-persistent":""},on:{"update:mdActive":function(e){t.datesForRentCheck=e},"update:md-active":function(e){t.datesForRentCheck=e}}},[a("span",[t._v("Please enter the dates when the apartment/room is available for rent")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.datesForRentCheck=!1}}},[t._v("Close")])],1),a("div",{attrs:{id:"imgTest"}}),a("md-snackbar",{attrs:{"md-position":t.position,"md-duration":t.duration,"md-active":t.checkInOutTimeCheck,"md-persistent":""},on:{"update:mdActive":function(e){t.checkInOutTimeCheck=e},"update:md-active":function(e){t.checkInOutTimeCheck=e}}},[a("span",[t._v("Check in time must be after 14:00(2:00PM) and check out time must be after 10:00(10:00AM)")]),a("md-button",{staticClass:"md-primary",on:{click:function(e){t.checkInOutTimeCheck=!1}}},[t._v("Close")])],1)],1)},It=[],Ft=(a("1276"),a("1cf8")),Gt=(a("2b69"),a("97fc")),$t=a.n(Gt),Lt=(a("1e11"),a("e37d"));s["default"].use(Lt["a"]),s["default"].component("date-picker",q.a),s["default"].component("time-picker",$t.a),s["default"].use(Ft["a"]);var Ht={name:"ApartmentRegistration",data:function(){return{apartmentType:"",numberOfRooms:1,numberOfGuests:1,country:"",city:"",streetAndNumber:"",datesForRent:[],dateRange:"",pricePerNight:1,checkInTime:"",checkOutTime:"",amenities:[],tempAmenities:[],checkedAmenities:[],searchCriteria:"",duration:3e3,position:"center",photos:[],saved:!1,notSaved:!1,apartmentTypeCheck:!1,adressCheck:!1,datesForRentCheck:!1,checkInOutTimeCheck:!1}},methods:{saveDateForRent:function(){var t={start:this.dateRange.start,end:this.dateRange.end};this.datesForRent.push(t),this.dateRange=""},editAmenities:function(t){var e=this;if(this.tempAmenities.forEach((function(e){e.item.id===t.item.id&&(e.checked=!e.checked)})),0===this.checkedAmenities.length)return this.checkedAmenities.push({checked:!0,item:t.item}),void console.log(this.checkedAmenities);var a=!1,s={};console.log(t.item),this.checkedAmenities.forEach((function(e){console.log("Comparing: "+e.item.id+":"+t.item.id),e.item.id===t.item.id&&(console.log("Indices match!"),a=!0,s=e)})),console.log(s),a?(this.checkedAmenities=[],this.tempAmenities.forEach((function(t){t.checked&&e.checkedAmenities.push(t)}))):this.checkedAmenities.push({checked:!0,item:t.item}),t.checked=!1,console.log(this.checkedAmenities)},filterAmenities:function(){var t=this;""===this.searchCriteria?this.amenities=this.tempAmenities:this.amenities=this.tempAmenities.filter((function(e){var a=e.item.caption.toLowerCase(),s=t.searchCriteria.toLowerCase();if(a.includes(s))return console.log(e),e}))},getBase64:function(t,e,a){for(var s=function(t){var s=new FileReader;s.addEventListener("load",(function(){return a(s.result)})),s.readAsDataURL(e[t])},r=0;r<e.length;r++)s(r)},registerAmenity:function(){if(""!==this.apartmentType)if(""!==this.city&&""!==this.country&&""!==this.streetAndNumber)if(0!==this.datesForRent.length)if(""!==this.checkInTime&&""!==this.checkOutTime){var t=this.checkInTime.split(":"),e=parseInt(t[0]),a=this.checkOutTime.split(":"),s=parseInt(a[0]);if(e<14||s<10)this.checkInOutTimeCheck=!0;else{var r=this.streetAndNumber.split(", ")[0],n=this.streetAndNumber.split(", ")[1],i=JSON.parse(localStorage.getItem("loggedUser"));console.log(this.datesForRent);var o=[],l=[];this.datesForRent.forEach((function(t){o.push(t.start),l.push(t.end)}));var c=[];this.checkedAmenities.forEach((function(t){c.push(t.item)}));var d=this.$refs.file.files,u=this;this.getBase64(u,d,(function(t){var e=t.toString();u.photos.push(e),d.length!=u.photos.length||m.post("apartments/registerApartment",{apartmentType:u.apartmentType,numberOfRooms:u.numberOfRooms,numberOfGuests:u.numberOfGuests,location:{address:{street:r,number:n,city:u.city,postalCode:"22330",country:u.country}},startDates:o,endDates:l,hostId:i.id,photos:u.photos,pricePerNight:u.pricePerNight,checkInTime:u.checkInTime,checkOutTime:u.checkOutTime,activityStatus:!1,amenities:c}).then((function(t){!0===t.data?u.saved=!0:u.notSaved=!0}))}))}}else this.checkInOutTimeCheck=!0;else this.datesForRentCheck=!0;else this.adressCheck=!0;else this.apartmentTypeCheck=!0}},mounted:function(){var t=this;m.get("Amenity").then((function(e){e.data.forEach((function(e){t.amenities.push({checked:!1,item:e}),t.tempAmenities.push({checked:!1,item:e})}))}))}},Jt=Ht,jt=(a("b0eae"),Object(v["a"])(Jt,Mt,It,!1,null,"b5ffd70c",null)),Bt=jt.exports,qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"100%","margin-top":"5%","margin-left":"5%"}},[a("md-table",{staticClass:"md-card md-fixed-header",staticStyle:{padding:"20px"},attrs:{"md-sort":"name","md-sort-order":"asc"},scopedSlots:t._u([{key:"md-table-row",fn:function(e){var s=e.item;return a("md-table-row",{},[a("md-table-cell",{attrs:{"md-label":"Apartment type","md-sort-by":"apartmentType"}},[t._v(t._s(s.apartmentType))]),a("md-table-cell",{attrs:{"md-label":"Location","md-sort-by":"location"}},[t._v(t._s(s.location.address.country)+", "+t._s(s.location.address.city))]),a("md-table-cell",{attrs:{"md-label":"Guest username","md-sort-by":"guestUserName"}},[t._v(t._s(s.guestUserName))]),a("md-table-cell",{attrs:{"md-label":"Starting date","md-sort-by":"startingDate"}},[t._v(t._s(s.startingDate))]),a("md-table-cell",{attrs:{"md-label":"Rental duration","md-sort-by":"rentalDuration"}},[t._v(t._s(s.rentalDuration))]),a("md-table-cell",{attrs:{"md-label":"Status","md-sort-by":"status"}},[t._v(t._s(s.reservationStatus))]),"Created"===s.reservationStatus?a("md-table-cell",[a("button",{staticClass:"btn btn-success",on:{click:function(e){return t.acceptReservation(s.id,s)}}},[t._v("Accept")])]):t._e(),"Created"===s.reservationStatus||"Accepted"===s.reservationStatus?a("md-table-cell",[a("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.declineReservation(s.id,s)}}},[t._v("Decline")])]):t._e(),"Accepted"===s.reservationStatus?a("md-table-cell",[a("button",{staticClass:"btn btn-info",on:{click:function(e){return t.finishReservation(s.id,s)}}},[t._v("Finish")])]):t._e()],1)}}]),model:{value:t.searched,callback:function(e){t.searched=e},expression:"searched"}},[a("md-table-toolbar",[a("div",{staticClass:"md-toolbar-section-start"},[a("h2",{staticClass:"md-title"},[t._v("Reservations")])]),a("md-field",{staticClass:"md-toolbar-section-end",attrs:{"md-clearable":""}},[a("md-input",{attrs:{placeholder:"Search by guest username..."},on:{input:t.searchOnTable2},model:{value:t.search2,callback:function(e){t.search2=e},expression:"search2"}})],1)],1),a("md-table-empty-state",{attrs:{"md-label":"No reservations found","md-description":"No reservations found for this query. Try a different search term."}})],1)],1)},Vt=[];s["default"].use(c["MdTable"]),s["default"].use(c["MdCard"]),s["default"].use(c["MdField"]),s["default"].use(c["MdContent"]),s["default"].use(c["MdEmptyState"]),s["default"].use(c["MdRipple"]);var Yt=function(t){return t.toString().toLowerCase()},zt=function(t,e){return e?t.filter((function(t){return Yt(t.guestUserName).includes(Yt(e))})):t},Wt={name:"ReservationsFromGuests",data:function(){return{search2:null,searched:[],reservations:[],user:null}},methods:{searchOnTable2:function(){this.searched=zt(this.reservations,this.search2)},declineReservation:function(t,e){m.put("Reservation/declineReservation/"+t).then((function(t){t.data&&(e.reservationStatus="Declined")}))},acceptReservation:function(t,e){m.put("Reservation/acceptReservation/"+t).then((function(t){t.data&&(e.reservationStatus="Accepted")}))},finishReservation:function(t,e){m.put("Reservation/finishReservation/"+t).then((function(t){t.data&&(e.reservationStatus="Finished")}))}},created:function(){this.searched=this.reservations},mounted:function(){var t=this;null!==localStorage.getItem("loggedUser")&&(this.user=JSON.parse(localStorage.getItem("loggedUser"))),m.get("Reservation/HostReservations/".concat(this.user.id)).then((function(e){t.reservations=e.data,t.searched=t.reservations}))}},Kt=Wt,Qt=Object(v["a"])(Kt,qt,Vt,!1,null,"a0361bee",null),Xt=Qt.exports,Zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"90%","margin-top":"5%","margin-left":"5%"}},[a("md-table",{staticClass:"md-card md-fixed-header",staticStyle:{padding:"20px"},attrs:{"md-sort":"name","md-sort-order":"asc"},scopedSlots:t._u([{key:"md-table-row",fn:function(e){var s=e.item;return a("md-table-row",{},[a("md-table-cell",{attrs:{"md-label":"Apartment type","md-sort-by":"apartmentType"}},[t._v(t._s(s.apartmentType))]),a("md-table-cell",{attrs:{"md-label":"Location","md-sort-by":"location"}},[t._v(t._s(s.location.address.country)+", "+t._s(s.location.address.city))]),a("md-table-cell",{attrs:{"md-label":"Guest username","md-sort-by":"guestUserName"}},[t._v(t._s(s.hostUserName))]),a("md-table-cell",{attrs:{"md-label":"Starting date","md-sort-by":"startingDate"}},[t._v(t._s(s.startingDate))]),a("md-table-cell",{attrs:{"md-label":"Rental duration","md-sort-by":"rentalDuration"}},[t._v(t._s(s.rentalDuration))]),a("md-table-cell",{attrs:{"md-label":"Status","md-sort-by":"status"}},[t._v(t._s(s.reservationStatus))]),"Created"===s.reservationStatus||"Accepted"===s.reservationStatus?a("md-table-cell",[a("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.cancelReservation(s.id,s)}}},[t._v("Cancel")])]):t._e()],1)}}]),model:{value:t.searched,callback:function(e){t.searched=e},expression:"searched"}},[a("md-table-toolbar",[a("div",{staticClass:"md-toolbar-section-start"},[a("h2",{staticClass:"md-title"},[t._v("Reservations you made:")])]),a("md-field",{staticClass:"md-toolbar-section-end",attrs:{"md-clearable":""}},[a("md-input",{attrs:{placeholder:"Search by host username..."},on:{input:t.searchOnTable2},model:{value:t.search2,callback:function(e){t.search2=e},expression:"search2"}})],1)],1),a("md-table-empty-state",{attrs:{"md-label":"No reservations found","md-description":"No reservations found for this query. Try a different search term."}})],1)],1)},te=[];s["default"].use(c["MdTable"]),s["default"].use(c["MdCard"]),s["default"].use(c["MdField"]),s["default"].use(c["MdContent"]),s["default"].use(c["MdEmptyState"]),s["default"].use(c["MdRipple"]);var ee=function(t){return t.toString().toLowerCase()},ae=function(t,e){return e?t.filter((function(t){return ee(t.hostUserName).includes(ee(e))})):t},se={name:"ReservationsByGuest",data:function(){return{search2:null,searched:[],reservations:[],user:null}},methods:{searchOnTable2:function(){this.searched=ae(this.reservations,this.search2)},cancelReservation:function(t,e){m.put("Reservation/cancelReservation/"+t).then((function(t){t.data&&(e.reservationStatus="Canceled")}))},reload:function(){this.$forceUpdate()}},created:function(){this.searched=this.reservations},mounted:function(){var t=this;null!==localStorage.getItem("loggedUser")&&(this.user=JSON.parse(localStorage.getItem("loggedUser"))),m.get("Reservation/GuestReservations/".concat(this.user.id)).then((function(e){t.reservations=e.data,t.searched=t.reservations}))}},re=se,ne=Object(v["a"])(re,Zt,te,!1,null,"34123326",null),ie=ne.exports,oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"90%","margin-top":"5%","margin-left":"5%"}},[a("md-table",{staticClass:"md-card md-fixed-header",staticStyle:{padding:"20px"},attrs:{"md-sort":"name","md-sort-order":"asc"},scopedSlots:t._u([{key:"md-table-row",fn:function(e){var s=e.item;return a("md-table-row",{},[a("md-table-cell",{attrs:{"md-label":"Username","md-sort-by":"userName"}},[t._v(t._s(s.userName))]),a("md-table-cell",{attrs:{"md-label":"Name","md-sort-by":"name"}},[t._v(t._s(s.name)+" "+t._s(s.surname))]),a("md-table-cell",{attrs:{"md-label":"Gender","md-sort-by":"userGender"}},[t._v(t._s(s.userGender))])],1)}}]),model:{value:t.searched,callback:function(e){t.searched=e},expression:"searched"}},[a("md-table-toolbar",[a("div",{staticClass:"md-toolbar-section-start"},[a("h2",{staticClass:"md-title"},[t._v("Users")])]),a("md-field",{staticClass:"md-toolbar-section-end",attrs:{"md-clearable":""}},[a("md-input",{attrs:{placeholder:"Search by name..."},on:{input:t.searchOnTable},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),a("md-table-empty-state",{attrs:{"md-label":"No users found","md-description":"No user found for this '"+t.search+"' query. Try a different search term."}})],1)],1)},le=[],ce=function(t){return t.toString().toLowerCase()},de=function(t,e){return e?t.filter((function(t){return ce(t.userName).includes(ce(e))})):t};s["default"].use(c["MdTable"]),s["default"].use(c["MdCard"]),s["default"].use(c["MdField"]),s["default"].use(c["MdContent"]),s["default"].use(c["MdEmptyState"]),s["default"].use(c["MdRipple"]);var ue={name:"UsersThatMadeReservations",data:function(){return{search:null,searched:[],users:[],user:null}},methods:{searchOnTable:function(){this.searched=de(this.users,this.search)}},created:function(){this.searched=this.users},mounted:function(){var t=this;null!==localStorage.getItem("loggedUser")&&(this.user=JSON.parse(localStorage.getItem("loggedUser"))),m.get("Reservation/UsersMadeReservations/".concat(this.user.id)).then((function(e){t.users=e.data,t.searched=t.users}))}},me=ue,pe=Object(v["a"])(me,oe,le,!1,null,"4791572e",null),he=pe.exports,ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",staticStyle:{"background-color":"white !important",padding:"50px","padding-bottom":"10px"}},[a("div",{staticClass:"row"},[t._m(0),a("div",{staticClass:"col-sm-3"},[a("div",{staticClass:"row"},[a("label",[t._v(t._s(t.apartmentDetails.apartmentType))])]),a("div",{staticClass:"row"},[a("label",[t._v(t._s(t.apartmentDetails.numberOfRooms))])]),a("div",{staticClass:"row"},[a("label",[t._v(t._s(t.apartmentDetails.numberOfGuests))])]),a("div",{staticClass:"row"},[t.apartmentDetails.location?a("label",[t._v(t._s(t.apartmentDetails.location.address.country)+", "+t._s(t.apartmentDetails.location.address.city)+", "+t._s(t.apartmentDetails.location.address.street)+" "+t._s(t.apartmentDetails.location.address.number))]):t._e()]),a("div",{staticClass:"row"},[a("label",[t._v(t._s(t.apartmentDetails.userName))])])]),t._m(1),a("div",{staticClass:"col-sm-3"},[a("div",{staticClass:"row"},[a("label",[t._v(t._s(t.apartmentDetails.pricePerNight))])]),a("div",{staticClass:"row"},[a("label",[t._v(t._s(t.apartmentDetails.checkInTime))])]),a("div",{staticClass:"row"},[a("label",[t._v(t._s(t.apartmentDetails.checkOutTime))])]),a("div",{staticClass:"row"},[a("label",[t._v(t._s(t.apartmentDetails.activityStatus))])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"carousel slide",staticStyle:{height:"50%",width:"50%"},attrs:{id:"carouselExampleControls","data-ride":"carousel"}},[a("div",{staticClass:"carousel-inner"},t._l(t.apartmentDetails.photos,(function(e,s){return a("div",{key:s,class:t.getClass(s)},[a("img",{staticClass:"d-block w-100",attrs:{src:e,alt:"Server error"}})])})),0),t._m(2),t._m(3)])])])},fe=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-3"},[a("div",{staticClass:"row"},[a("label",[t._v("Apartment type: ")])]),a("div",{staticClass:"row"},[a("label",[t._v("Number of rooms: ")])]),a("div",{staticClass:"row"},[a("label",[t._v("Number of guests: ")])]),a("div",{staticClass:"row"},[a("label",[t._v("Location: ")])]),a("div",{staticClass:"row"},[a("label",[t._v("Host username: ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-3"},[a("div",{staticClass:"row"},[a("label",[t._v("Price per night: ")])]),a("div",{staticClass:"row"},[a("label",[t._v("Check in time: ")])]),a("div",{staticClass:"row"},[a("label",[t._v("Check out time: ")])]),a("div",{staticClass:"row"},[a("label",[t._v("Activity status: ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"carousel-control-prev",attrs:{href:"#carouselExampleControls",role:"button","data-slide":"prev"}},[a("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"sr-only"},[t._v("Previous")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"carousel-control-next",attrs:{href:"#carouselExampleControls",role:"button","data-slide":"next"}},[a("span",{staticClass:"carousel-control-next-icon",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"sr-only"},[t._v("Next")])])}],be={name:"ApartmentDetails",data:function(){return{apartmentId:"",apartmentDetails:""}},methods:{getClass:function(t){return 0===t?"carousel-item active":"carousel-item"}},mounted:function(){var t=this;this.apartmentId=this.$route.params.id,m.get("apartments/apartmentDetails/".concat(this.apartmentId)).then((function(e){e.data&&(t.apartmentDetails=e.data)}))}},ge=be,we=(a("c29f"),Object(v["a"])(ge,ve,fe,!1,null,"58999839",null)),_e=we.exports;s["default"].use(i["a"]);var ye=[{path:"/",component:F},{path:"/login",component:b},{path:"/register",component:S},{path:"/Users",component:P},{path:"/apartments",component:Z},{path:"/AllReservations",component:lt},{path:"/AllAmenities",component:ft},{path:"/Profile",component:Rt},{path:"/ChangePassword",component:Ct},{path:"/ChangeDetails",component:Et},{path:"/apartmentRegistration",component:Bt},{path:"/reservationsFromGuests",component:Xt},{path:"/myReservations",component:ie},{path:"/guests",component:he},{path:"/apartmentDetails/:id",component:_e}],Ce=new i["a"]({routes:ye}),Se={router:Ce,name:"App",components:{},data:function(){return{loggedUserRole:""}},mounted:function(){var t=this;this.$root.$on("messageToParent",(function(e){t.loggedUserRole=e,localStorage.setItem("loggedUserRole",JSON.stringify(e))})),this.$root.$on("loggedUser",(function(t){localStorage.setItem("loggedUser",JSON.stringify(t))})),null!==localStorage.getItem("loggedUserRole")&&(this.loggedUserRole=JSON.parse(localStorage.getItem("loggedUserRole")))},methods:{logout:function(){this.loggedUserRole="",localStorage.clear(),this.$router.push("/")}}},ke=Se,xe=(a("5c0b"),Object(v["a"])(ke,r,n,!1,null,null,null)),Ne=xe.exports;s["default"].config.productionTip=!1,new s["default"]({render:function(t){return t(Ne)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var s=a("9c0c"),r=a.n(s);r.a},"647f":function(t,e,a){"use strict";var s=a("7452"),r=a.n(s);r.a},"6b53":function(t,e,a){},"71ca":function(t,e,a){},7452:function(t,e,a){},9348:function(t,e,a){"use strict";var s=a("b346"),r=a.n(s);r.a},"93fd":function(t,e,a){"use strict";var s=a("71ca"),r=a.n(s);r.a},"9c0c":function(t,e,a){},"9c95":function(t,e,a){},"9dd2":function(t,e,a){},adc5:function(t,e,a){},b0eae:function(t,e,a){"use strict";var s=a("adc5"),r=a.n(s);r.a},b346:function(t,e,a){},b579:function(t,e,a){"use strict";var s=a("e316"),r=a.n(s);r.a},c29f:function(t,e,a){"use strict";var s=a("edbf"),r=a.n(s);r.a},d46a:function(t,e,a){"use strict";var s=a("9c95"),r=a.n(s);r.a},e316:function(t,e,a){},e431:function(t,e,a){"use strict";var s=a("9dd2"),r=a.n(s);r.a},edbf:function(t,e,a){},fd2d:function(t,e,a){"use strict";var s=a("6b53"),r=a.n(s);r.a}});
//# sourceMappingURL=app.1817d47a.js.map